(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function o(t){return r.p+"js/"+({}[t]||t)+"."+{"chunk-2d219ff9":"1189c811"}[t]+".js"}function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(t);var c=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,a[1](c)}n[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0012":function(t,e,a){"use strict";a("bb26")},"026e":function(t,e,a){"use strict";a("0e3f")},"0746":function(t,e,a){},"0d52":function(t,e,a){},"0e3f":function(t,e,a){},"0ed4":function(t,e,a){"use strict";a("33da")},"13d1":function(t,e,a){"use strict";a("2fff")},1759:function(t,e,a){"use strict";a("7d5e")},"17ee":function(t,e,a){"use strict";a("c291")},"1cd3":function(t,e,a){"use strict";a("1ea5")},"1ea5":function(t,e,a){},"215b":function(t,e,a){},"222f":function(t,e,a){},"24c4":function(t,e,a){},"29b1":function(t,e,a){"use strict";a("88dd")},"2fff":function(t,e,a){},3330:function(t,e,a){"use strict";a("774d")},"33da":function(t,e,a){},"42ad":function(t,e,a){},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="4678"},"4d8f":function(t,e,a){},"4df2":function(t,e,a){"use strict";a("e077")},"51db":function(t,e,a){"use strict";a("4d8f")},"53e1":function(t,e,a){"use strict";a("42ad")},5419:function(t,e,a){},"54b2":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("ffc1"),a("551c");var i=a("2b0e"),n=a("8c4f"),s=function(){var t=this,e=t._self._c;return e("div",{class:{"nav-open":t.$sidebar.showSidebar}},[e("notifications"),e("router-view")],1)},o=[],r={},l=r,c=(a("b4b4"),a("2877")),d=Object(c["a"])(l,s,o,!1,null,null,null),u=d.exports,p=a("e37d"),m=(a("ac6a"),a("20d6"),a("f751"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"notifications"},[e("transition-group",{attrs:{name:t.transitionName,mode:t.transitionMode}},t._l(t.notifications,(function(a){return e("notification",t._b({key:a.timestamp.getTime(),attrs:{clickHandler:a.onClick},on:{close:t.removeNotification}},"notification",a,!1))})),1)],1)}),v=[],f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"alert",class:[{"alert-with-icon":t.icon||t.showClose},t.verticalAlign,t.horizontalAlign,t.alertType],style:t.customPosition,attrs:{"data-notify":"container",role:"alert","data-notify-position":"top-center"},on:{click:t.tryClose}},[t.showClose?e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-notify":"dismiss"},on:{click:t.close}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]):t._e(),t.icon?e("span",{class:["alert-icon",t.icon],attrs:{"data-notify":"icon"}}):t._e(),e("span",{attrs:{"data-notify":"message"}},[t.title?e("div",{staticClass:"title"},[e("b",[t._v(t._s(t.title)),e("br")])]):t._e(),t.message?e("div",{domProps:{innerHTML:t._s(t.message)}}):t._e(),!t.message&&t.component?e("content-render",{attrs:{component:t.component}}):t._e()],1)])},_=[],g=(a("c5f6"),{name:"notification",components:{contentRender:{props:["component"],render:function(t){return t(this.component)}}},props:{message:String,title:String,icon:String,verticalAlign:{type:String,default:"top",validator:function(t){var e=["top","bottom"];return-1!==e.indexOf(t)}},horizontalAlign:{type:String,default:"right",validator:function(t){var e=["left","center","right"];return-1!==e.indexOf(t)}},type:{type:String,default:"info",validator:function(t){var e=["info","primary","danger","warning","success"];return-1!==e.indexOf(t)}},timeout:{type:Number,default:5e3,validator:function(t){return t>=0}},timestamp:{type:Date,default:function(){return new Date}},component:{type:[Object,Function]},showClose:{type:Boolean,default:!0},closeOnClick:{type:Boolean,default:!0},clickHandler:Function},data:function(){return{elmHeight:0}},computed:{hasIcon:function(){return this.icon&&this.icon.length>0},alertType:function(){return"alert-".concat(this.type)},customPosition:function(){var t=this,e=20,a=this.elmHeight+10,i=this.$notifications.state.filter((function(e){return e.horizontalAlign===t.horizontalAlign&&e.verticalAlign===t.verticalAlign&&e.timestamp<=t.timestamp})).length;this.$notifications.settings.overlap&&(i=1);var n=(i-1)*a+e,s={};return"top"===this.verticalAlign?s.top="".concat(n,"px"):s.bottom="".concat(n,"px"),s}},methods:{close:function(){this.$emit("close",this.timestamp)},tryClose:function(t){this.clickHandler&&this.clickHandler(t,this),this.closeOnClick&&this.close()}},mounted:function(){this.elmHeight=this.$el.clientHeight,this.timeout&&setTimeout(this.close,this.timeout)}}),h=g,b=(a("75d6"),Object(c["a"])(h,f,_,!1,null,null,null)),y=b.exports,C={components:{Notification:y},props:{transitionName:{type:String,default:"list"},transitionMode:{type:String,default:"in-out"},overlap:{type:Boolean,default:!1}},data:function(){return{notifications:this.$notifications.state}},methods:{removeNotification:function(t){this.$notifications.removeNotification(t)}},created:function(){this.$notifications.settings.overlap=this.overlap},watch:{overlap:function(t){this.$notifications.settings.overlap=t}}},k=C,$=(a("d885"),Object(c["a"])(k,m,v,!1,null,null,null)),w=$.exports,A={state:[],settings:{overlap:!1,verticalAlign:"top",horizontalAlign:"right",type:"info",timeout:5e3,closeOnClick:!0,showClose:!0},setOptions:function(t){this.settings=Object.assign(this.settings,t)},removeNotification:function(t){var e=this.state.findIndex((function(e){return e.timestamp===t}));-1!==e&&this.state.splice(e,1)},addNotification:function(t){("string"===typeof t||t instanceof String)&&(t={message:t}),t.timestamp=new Date,t.timestamp.setMilliseconds(t.timestamp.getMilliseconds()+this.state.length),t=Object.assign({},this.settings,t),this.state.push(t)},notify:function(t){var e=this;Array.isArray(t)?t.forEach((function(t){e.addNotification(t)})):this.addNotification(t)}},S={install:function(t,e){var a=new t({data:{notificationStore:A},methods:{notify:function(t){this.notificationStore.notify(t)}}});t.prototype.$notify=a.notify,t.prototype.$notifications=a.notificationStore,t.component("Notifications",w),e&&A.setOptions(e)}},q=S,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group",class:{"input-group":t.hasIcon,"input-group-focus":t.focused}},[t._t("label",(function(){return[t.label?e("label",{staticClass:"control-label"},[t._v("\n      "+t._s(t.label)+"\n    ")]):t._e()]})),t._t("addonLeft",(function(){return[t.addonLeftIcon?e("span",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[e("i",{class:t.addonLeftIcon})])]):t._e()]})),t._t("default",(function(){return[e("input",t._g(t._b({staticClass:"form-control",attrs:{"aria-describedby":"addon-right addon-left"},domProps:{value:t.value}},"input",t.$attrs,!1),t.listeners))]})),t._t("addonRight",(function(){return[t.addonRightIcon?e("span",{staticClass:"input-group-append"},[e("div",{staticClass:"input-group-text"},[e("i",{class:t.addonRightIcon})])]):t._e()]})),t._t("helperText")],2)},j=[],P=(a("8e6e"),a("cadf"),a("456d"),a("bd86"));function z(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?z(Object(a),!0).forEach((function(e){Object(P["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var I={inheritAttrs:!1,name:"base-input",props:{label:{type:String,description:"Input label"},value:{type:[String,Number],description:"Input value"},addonRightIcon:{type:String,description:"Input icon on the right"},addonLeftIcon:{type:String,description:"Input icon on the left"}},model:{prop:"value",event:"input"},data:function(){return{focused:!1}},computed:{hasIcon:function(){var t=this.$slots,e=t.addonRight,a=t.addonLeft;return void 0!==e||void 0!==a||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon},listeners:function(){return D(D({},this.$listeners),{},{input:this.onInput,blur:this.onBlur,focus:this.onFocus})}},methods:{onInput:function(t){this.$emit("input",t.target.value)},onFocus:function(){this.focused=!0},onBlur:function(){this.focused=!1}}},N=I,T=Object(c["a"])(N,x,j,!1,null,null,null),O=T.exports,B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-check",class:{disabled:t.disabled}},[e("label",{staticClass:"form-check-label",attrs:{for:t.cbId}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"form-check-input",attrs:{id:t.cbId,type:"checkbox",disabled:t.disabled},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:function(e){var a=t.model,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=null,o=t._i(a,s);i.checked?o<0&&(t.model=a.concat([s])):o>-1&&(t.model=a.slice(0,o).concat(a.slice(o+1)))}else t.model=n}}}),e("span",{staticClass:"form-check-sign"})]),e("span",[t._t("default")],2)])},L=[],R=(a("6b54"),{name:"base-checkbox",model:{prop:"checked"},props:{checked:[Array,Boolean],disabled:[Boolean,String],inline:Boolean},data:function(){return{cbId:""}},computed:{model:{get:function(){return this.checked},set:function(t){this.$emit("input",t)}},inlineClass:function(){if(this.inline)return"checkbox-inline"}},created:function(){this.cbId=Math.random().toString(16).slice(2)}}),U=R,F=Object(c["a"])(U,B,L,!1,null,null,null),E=F.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label",attrs:{for:t.cbId}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{id:t.cbId,type:"radio",disabled:t.disabled},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{change:function(e){t.model=t.label}}}),e("span",{staticClass:"form-check-sign"},[t._t("default")],2)])])},H=[],J={name:"base-radio",props:{label:[String,Number],disabled:[Boolean,String],value:[String,Boolean],inline:Boolean},data:function(){return{cbId:""}},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},inlineClass:function(){return this.inline?"radio-inline":""}},created:function(){this.cbId=Math.random().toString(16).slice(2)}},K=J,V=Object(c["a"])(K,M,H,!1,null,null,null),Y=V.exports,G=function(){var t=this,e=t._self._c;return e(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"li",staticClass:"dropdown nav-item",class:{show:t.isOpen},attrs:{"aria-haspopup":"true","aria-expanded":t.isOpen},on:{click:t.toggleDropDown}},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._t("title",(function(){return[e("i",{class:t.icon}),e("span",{staticClass:"no-icon"},[t._v(t._s(t.title))]),e("b",{staticClass:"caret"})]}))],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"dropdown-menu show"},[t._t("default")],2)])},W=[],Q={name:"base-dropdown",props:{title:String,icon:String,tag:{type:String,default:"li"}},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown:function(){this.isOpen=!1,this.$emit("change",this.isOpen)}}},X=Q,Z=(a("b54f"),Object(c["a"])(X,G,W,!1,null,"1b11b073",null)),tt=Z.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",class:[t.type&&"card-".concat(t.type)]},[t.$slots.image?e("div",{staticClass:"card-image"},[t._t("image")],2):t._e(),t.$slots.header||t.title?e("div",{staticClass:"card-header",class:t.headerClasses},[t._t("header",(function(){return[e("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t.subTitle?e("p",{staticClass:"card-category"},[t._v(t._s(t.subTitle))]):t._e()]}))],2):t._e(),t.$slots.default?e("div",{staticClass:"card-body",class:t.bodyClasses},[t._t("default")],2):t._e(),t._t("raw-content"),t.$slots.footer?e("div",{staticClass:"card-footer",class:t.footerClasses},[t._t("footer")],2):t._e()],2)},at=[],it={name:"card",props:{title:{type:String,description:"Card title"},subTitle:{type:String,description:"Card subtitle"},type:{type:String,description:"Card type (e.g primary/danger etc)"},headerClasses:{type:[String,Object,Array],description:"Card header css classes"},bodyClasses:{type:[String,Object,Array],description:"Card body css classes"},footerClasses:{type:[String,Object,Array],description:"Card footer css classes"}}},nt=it,st=Object(c["a"])(nt,et,at,!1,null,null,null),ot=st.exports,rt={install:function(t){t.component(O.name,O),t.component(E.name,E),t.component(Y.name,Y),t.component(tt.name,tt),t.component("card",ot)}},lt=rt,ct={bind:function(t,e,a){t.clickOutsideEvent=function(i){t==i.target||t.contains(i.target)||a.context[e.expression](i)},document.body.addEventListener("click",t.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}},dt={install:function(t){t.directive("click-outside",ct)}},ut=dt,pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar",style:t.sidebarStyle,attrs:{"data-color":t.backgroundColor,"data-image":t.backgroundImage}},[e("div",{staticClass:"sidebar-wrapper"},[e("div",{staticClass:"logo"},[e("a",{staticClass:"simple-text logo__container",attrs:{href:"#"}},[t._m(0),t._v("\n        "+t._s(t.title)+"\n      ")])]),t._t("content"),e("ul",{staticClass:"nav nav-main__links"},[t._t("default",(function(){return t._l(t.sidebarLinks,(function(a,i){return e("sidebar-link",{key:a.name+i,attrs:{to:a.path,link:a},on:{click:t.closeNavbar}},[e("i",{class:a.icon}),e("p",[t._v(t._s(a.name))])])}))}))],2),t.$slots["bottom-links"]?e("ul",{staticClass:"nav nav-bottom"},[t._t("bottom-links")],2):t._e()],2)])},mt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo-img"},[e("img",{attrs:{src:"/img/vue-logo.png",alt:""}})])}],vt=(a("b54a"),function(){var t=this,e=t._self._c;return e(t.tag,t._b({tag:"component",attrs:{tag:"li"},nativeOn:{click:function(e){return t.hideSidebar.apply(null,arguments)}}},"component",t.$attrs,!1),[e("a",t._b({staticClass:"nav-link"},"a",t.$attrs,!1),[t._t("default",(function(){return[t.link.icon?e("i",{class:t.link.icon}):t._e(),e("p",[t._v(t._s(t.link.name))])]}))],2)])}),ft=[],_t={inheritAttrs:!1,inject:{autoClose:{default:!0}},props:{link:{type:[String,Object],default:function(){return{name:"",path:"",icon:""}}},tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},gt=_t,ht=Object(c["a"])(gt,vt,ft,!1,null,null,null),bt=ht.exports,yt={components:{SidebarLink:bt},props:{title:{type:String,default:"JPC"},backgroundColor:{type:String,default:"black",validator:function(t){var e=["","blue","azure","green","orange","red","purple","black"];return-1!==e.indexOf(t)}},backgroundImage:{type:String,default:"/img/sidebar-5.jpg"},activeColor:{type:String,default:"success",validator:function(t){var e=["primary","info","success","warning","danger"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose}},computed:{sidebarStyle:function(){return{backgroundImage:"url(".concat(this.backgroundImage,")")}}}},Ct=yt,kt=(a("13d1"),Object(c["a"])(Ct,pt,mt,!1,null,null,null)),$t=kt.exports,wt={showSidebar:!1,sidebarLinks:[{name:"Dashboard",icon:"ti-panel",path:"/admin/overview"}],displaySidebar:function(t){this.showSidebar=t}},At={install:function(t){t.mixin({data:function(){return{sidebarStore:wt}}}),Object.defineProperty(t.prototype,"$sidebar",{get:function(){return this.$root.sidebarStore}}),t.component("side-bar",$t),t.component("sidebar-link",bt)}},St=At,qt=(a("f9e3"),a("e1b9"),a("c6e3"),{install:function(t){t.use(lt),t.use(ut),t.use(St),t.use(q),t.use(p["a"])}}),xt=a("c1df"),jt=a.n(xt),Pt=a("5502"),zt=a("cee4");i["a"].use(Pt["a"]);var Dt=new Pt["a"].Store({state:{token:localStorage.getItem("token")||"",status:""},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=""}},actions:{login:function(t,e){var a=t.commit;return new Promise((function(t,i){alert("s"),a("auth_request"),Object(zt["a"])({url:"http://property-apis.jpcdevelopment.co.uk/api/login",data:e,method:"POST"}).then((function(e){var i=e.data.token;localStorage.setItem("token",i),zt["a"].defaults.headers.common["Authorization"]=i,a("auth_success",i),t(e)})).catch((function(t){a("auth_error"),localStorage.removeItem("token"),i(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,a){e("logout"),localStorage.removeItem("token"),delete zt["a"].defaults.headers.common["Authorization"],t()}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}}}),It=a("7923"),Nt=a.n(It),Tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("side-bar",[1==t.currentUser.role_id||2==t.currentUser.role_id||3==t.currentUser.role_id?e("div",[e("mobile-menu",{attrs:{slot:"content"},slot:"content"}),e("sidebar-link",{attrs:{to:"/admin/overview"}},[e("i",{staticClass:"nc-icon nc-chart-pie-35"}),e("p",[t._v("Dashboard")])]),1==t.currentUser.role_id?e("sidebar-link",{attrs:{to:"/admin/user-list"}},[e("i",{staticClass:"nc-icon nc-circle-09"}),e("p",[t._v("Admin / Manager")])]):t._e(),2==t.currentUser.role_id?e("sidebar-link",{attrs:{to:"/admin/user-list"}},[e("i",{staticClass:"nc-icon nc-circle-09"}),e("p",[t._v("Manager")])]):t._e(),e("sidebar-link",{attrs:{to:"/admin/owner-list"}},[e("i",{staticClass:"nc-icon nc-circle-09"}),e("p",[t._v("Landlord / Investors")])]),e("sidebar-link",{attrs:{to:"/admin/tenants-list"}},[e("i",{staticClass:"nc-icon nc-circle-09"}),e("p",[t._v("Tenants")])]),e("sidebar-link",{attrs:{to:"/admin/trades-list"}},[e("i",{staticClass:"nc-icon nc-circle-09"}),e("p",[t._v("Trade Person")])]),e("sidebar-link",{attrs:{to:"/admin/property-list"}},[e("i",{staticClass:"nc-icon nc-istanbul"}),e("p",[t._v("Property list")])]),e("sidebar-link",{attrs:{to:"/admin/admin-complaints"}},[e("i",{staticClass:"nc-icon nc-istanbul"}),e("p",[t._v("Complaints list")])])],1):t._e(),t.currentUser.email_verified_at&&t.currentUser.phone_no_verified_at&&4==t.currentUser.role_id?e("div",[e("mobile-menu",{attrs:{slot:"content"},slot:"content"}),e("sidebar-link",{attrs:{to:"/admin/overview"}},[e("i",{staticClass:"nc-icon nc-chart-pie-35"}),e("p",[t._v("Dashboard")])]),e("sidebar-link",{attrs:{to:"/admin/tenant-complaints"}},[e("i",{staticClass:"nc-icon nc-chart-pie-35"}),e("p",[t._v("Complaints")])]),e("sidebar-link",{attrs:{to:"/admin/finance"}},[e("i",{staticClass:"nc-icon nc-chart-pie-35"}),e("p",[t._v("Finance")])]),e("sidebar-link",{attrs:{to:"/admin/property-doc"}},[e("i",{staticClass:"nc-icon nc-chart-pie-35"}),e("p",[t._v("Property Doc")])])],1):t._e()]),e("div",{staticClass:"main-panel"},[e("top-navbar"),e("dashboard-content",{on:{click:t.toggleSidebar}}),e("content-footer")],1)],1)},Ot=[],Bt=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-expand-lg"},[e("div",{staticClass:"container-fluid"},[e("button",{staticClass:"navbar-toggler navbar-toggler-right",class:{toggled:t.$sidebar.showSidebar},attrs:{type:"button","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.toggleSidebar}},[e("span",{staticClass:"navbar-toggler-bar burger-lines"}),e("span",{staticClass:"navbar-toggler-bar burger-lines"}),e("span",{staticClass:"navbar-toggler-bar burger-lines"})]),e("div",{staticClass:"collapse navbar-collapse justify-content-end"},[e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"btn btn-success btn-fill",attrs:{to:"/admin/user"}},[t._v("Account")])],1),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link btn",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[t._v("\n            Log out\n          ")])])])])])])},Lt=[],Rt={computed:{routeName:function(){var t=this.$route.name;return this.capitalizeFirstLetter(t)}},data:function(){return{activeNotifications:!1}},methods:{capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},toggleNotificationDropDown:function(){this.activeNotifications=!this.activeNotifications},closeDropDown:function(){this.activeNotifications=!1},toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},hideSidebar:function(){this.$sidebar.displaySidebar(!1)},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.$router.push({name:"Login"})}}},Ut=Rt,Ft=Object(c["a"])(Ut,Bt,Lt,!1,null,null,null),Et=Ft.exports,Mt=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"copyright text-center"},[t._v("\n      JPC © "+t._s((new Date).getFullYear())+"\n    ")])])])},Ht=[],Jt={},Kt=Jt,Vt=Object(c["a"])(Kt,Mt,Ht,!1,null,null,null),Yt=Vt.exports,Gt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)},Wt=[],Qt={},Xt=Qt,Zt=(a("c676"),Object(c["a"])(Xt,Gt,Wt,!1,null,null,null)),te=Zt.exports,ee=function(){var t=this,e=t._self._c;return e("ul",{})},ae=[],ie={name:"mobile-menu"},ne=ie,se=Object(c["a"])(ne,ee,ae,!1,null,null,null),oe=se.exports,re={components:{TopNavbar:Et,ContentFooter:Yt,DashboardContent:te,MobileMenu:oe,SidebarLink:bt},data:function(){return{currentUser:""}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),console.log(this.currentUser)},methods:{toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},le=re,ce=Object(c["a"])(le,Tt,Ot,!1,null,null,null),de=ce.exports,ue=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contact-us full-screen"},[e("nav",{staticClass:"navbar navbar-ct-default",attrs:{role:"navigation-demo"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-header"},[t._m(0),e("router-link",{staticClass:"navbar-brand",attrs:{to:{path:"/"}}},[t._v("Site title")])],1),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navigation-example-2"}},[e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1)])])])]),t._m(1),e("footer",{staticClass:"footer-demo"},[e("div",{staticClass:"container"},[e("nav",{staticClass:"pull-left"},[e("ul",[e("li",[e("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1),e("li",[e("router-link",{attrs:{to:{path:"/register"}}},[t._v("Register")])],1)])]),t._m(2)])])])},pe=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#navigation-example-2"}},[e("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper wrapper-full-page section content"},[e("div",{},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-md-offset-2 text-center"},[e("h2",{staticClass:"title text-danger"},[t._v("404 Not Found")]),e("h2",{staticClass:"title"},[t._v("Oops! It seems that this page does not exist.")])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"copyright text-center"},[t._v("\n        © Coded with\n        "),e("i",{staticClass:"fa fa-heart heart"}),t._v(" by\n        "),e("a",{attrs:{href:"https://binarcode.com",target:"_blank"}},[t._v("BinarCode")]),t._v(".\n        Designed by "),e("a",{attrs:{href:"https://www.creative-tim.com/?ref=pdf-vuejs",target:"_blank"}},[t._v("Creative Tim")]),t._v(".\n      ")])}],me={},ve=me,fe=Object(c["a"])(ve,ue,pe,!1,null,null,null),_e=fe.exports,ge=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"mx-auto col-10 col-md-8 col-lg-6 border mt-4 p-4"},[e("h4",[t._v("JPC Login")]),e("form",[e("div",{staticClass:"form-group"},[e("base-input",{class:{"is-invalid":t.isSubmitted},attrs:{type:"email",label:"Email",placeholder:"Enter Email Address"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t.isSubmitted&&t.$v.form.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.form.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"form-group"},[e("base-input",{class:{"is-invalid":t.isSubmitted&&t.$v.form.password.$error},attrs:{type:"password",label:"Password",placeholder:"Enter Your Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t.isSubmitted&&t.$v.form.password.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.password.required?t._e():e("span",[t._v("Password field is required.")])]):t._e()],1),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-success btn-fill",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.loginAction.apply(null,arguments)}}},[t._v("Login")])])]),t.loading?e("ajax-loader"):t._e()],1)])])},he=[],be=(a("097d"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"menu-wrapper"},[e("ul",t._l(t.menuConfig,(function(a,i){return e("li",{key:i,attrs:{title:a.title,"data-testid":"first-level-".concat(a.title.toLowerCase())}},[t._v("\n      "+t._s(a.title)+"\n        "),a.subItems?e("button",{attrs:{id:"second-level-".concat(a.title.toLowerCase())},on:{click:function(e){return e.preventDefault(),t.handleMenuClick(a.subItems,e)}}},[t._v("Expand")]):t._e(),t.subMenu&&t.isExpand?e("ul",t._l(t.subMenu,(function(a,i){return e("li",{key:i},[e("a",[t._v(t._s(a))])])})),0):t._e()])})),0)])}),ye=[],Ce={props:{menuConfig:[]},data:function(){return{isExpand:!1,subMenu:[]}},methods:{handleMenuClick:function(t,e){var a=e.currentTarget.id;alert(a),this.subMenu=t,this.isExpand=!0}}},ke=Ce,$e=(a("17ee"),Object(c["a"])(ke,be,ye,!1,null,"78565550",null)),we=$e.exports,Ae=function(){var t=this;t._self._c;return t._m(0)},Se=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"alert alert-light"},[e("div",{staticClass:"text-center"},[e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])])}],qe={},xe=qe,je=(a("ea13"),Object(c["a"])(xe,Ae,Se,!1,null,"01167e90",null)),Pe=je.exports,ze=a("b5ae"),De={components:{BaseInput:O,AjaxLoader:Pe,Tes:we},name:"login",data:function(){return{menu_config:[{title:"Home"},{title:"Services",subItems:["Cooking","Cleaning"]},{title:"Contact",subItems:["Email","Address"]}],form:{password:"",email:""},isSubmitted:!1,loading:!1}},validations:{form:{email:{required:ze["required"],email:ze["email"]},password:{required:ze["required"]}}},methods:{loginAction:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/login",this.form,{headers:{"Content-Type":"application/json"}}).then((function(e){t.loading=!1,t.isSubmitted=!1,200==e.status&&e.data.token?(localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),zt["a"].defaults.headers.common["Authorization"]=e.data.token,t.$router.push({name:"dashboard"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Ie=De,Ne=Object(c["a"])(Ie,ge,he,!1,null,null,null),Te=Ne.exports,Oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[t.currentUser.email_verified_at&&t.currentUser.phone_no_verified_at&&1==t.currentUser.role_id||2==t.currentUser.role_id||3==t.currentUser.role_id?e("div",{staticClass:"row"},[1==t.currentUser.role_id?e("div",{staticClass:"col-xl-3 col-md-6",on:{click:function(e){return e.preventDefault(),t.directLink("admin")}}},[e("stats-card",[e("div",{staticClass:"icon-warning",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"nc-icon nc-circle-09 text-warning"})]),e("div",{attrs:{slot:"content"},slot:"content"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dashboard.adminCount))])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n           Admin\n          ")])])],1):t._e(),e("div",{staticClass:"col-xl-3 col-md-6",on:{click:function(e){return e.preventDefault(),t.directLink("manager")}}},[e("stats-card",[e("div",{staticClass:"icon-success",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"nc-icon nc-circle-09 text-success"})]),e("div",{attrs:{slot:"content"},slot:"content"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dashboard.managerCount))])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n            Manager\n          ")])])],1),e("div",{staticClass:"col-xl-3 col-md-6",on:{click:function(e){return e.preventDefault(),t.directLink("OwnerList")}}},[e("stats-card",[e("div",{staticClass:"icon-danger",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"nc-icon nc-circle-09 text-warning"})]),e("div",{attrs:{slot:"content"},slot:"content"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dashboard.owners))])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n            Owner\n          ")])])],1),e("div",{staticClass:"col-xl-3 col-md-6",on:{click:function(e){return e.preventDefault(),t.directLink("OwnerList")}}},[e("stats-card",[e("div",{staticClass:"icon-danger",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"nc-icon nc-circle-09 text-warning"})]),e("div",{attrs:{slot:"content"},slot:"content"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dashboard.investor))])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n            Investor\n          ")])])],1),e("div",{staticClass:"col-xl-3 col-md-6",on:{click:function(e){return e.preventDefault(),t.directLink("TenantsList")}}},[e("stats-card",[e("div",{staticClass:"icon-success",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"nc-icon nc-circle-09 text-info"})]),e("div",{attrs:{slot:"content"},slot:"content"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dashboard.tanentCount))])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n            Tenants\n          ")])])],1),e("div",{staticClass:"col-xl-3 col-md-6",on:{click:function(e){return e.preventDefault(),t.directLink("TradesList")}}},[e("stats-card",[e("div",{staticClass:"icon-info",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"nc-icon nc-circle-09 text-sucess"})]),e("div",{attrs:{slot:"content"},slot:"content"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dashboard.trader))])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n            Trader\n          ")])])],1),e("div",{staticClass:"col-xl-3 col-md-6",on:{click:function(e){return e.preventDefault(),t.directLink("PropertyList")}}},[e("stats-card",[e("div",{staticClass:"icon-danger",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"nc-icon nc-istanbul text-danger"})]),e("div",{attrs:{slot:"content"},slot:"content"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.dashboard.properties))])]),e("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n            Property\n          ")])])],1)]):t._e(),t.currentUser.email_verified_at||t.currentUser.phone_no_verified_at||4!=t.currentUser.role_id?t._e():e("div",{staticClass:"row"},[e("otp")],1),t.currentUser.email_verified_at&&t.currentUser.phone_no_verified_at&&4==t.currentUser.role_id?e("div",{staticClass:"row"},[e("div",{staticClass:"col-xl-6 col-md-6"},[e("card",[e("h4",[t._v("Your Details")]),e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Reference:")]),t._v(" "+t._s(t.dashboard.tanent_details.reference))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Profile Name:")]),t._v(" "+t._s(t.dashboard.name))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Email:")]),t._v(" "+t._s(t.dashboard.email)+" "),t.dashboard.email_verified_at?e("span",{staticClass:"badge badge-success"},[t._v("Verified")]):t._e()]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Phone:")]),t._v(" "+t._s(t.dashboard.phone_no)+" "),t.dashboard.phone_no_verified_at?e("span",{staticClass:"badge badge-success"},[t._v("Verified")]):t._e()]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Profile Name:")]),t._v(" "+t._s(t.dashboard.name))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("ID prof Doc.")]),e("a",{attrs:{target:"_blank",href:t.imagePath+t.dashboard.tanent_details.id_proof}},[t._v(" View")])])])])],1),e("div",{staticClass:"col-xl-6 col-md-6"},[e("card",[e("h4",[t._v("Rent Details")]),e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Deposite Amount:")]),t._v(" "+t._s(t.dashboard.tanent_details.deposite_amount))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Deposite Date:")]),t._v(" "+t._s(t.dashboard.tanent_details.deposite_date))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Tanency Period:")]),t._v(" "+t._s(t.dashboard.tanent_details.tanency_period))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Tanency Start Date:")]),t._v(" "+t._s(t.dashboard.tanent_details.tanency_start_date))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Tanency End Date:")]),t._v(" "+t._s(t.dashboard.tanent_details.tanency_end_date))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Rent Amount:")]),t._v(" "+t._s(t.dashboard.tanent_details.rent_amount))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Rent Date Per Month:")]),t._v(" "+t._s(t.dashboard.tanent_details.rent_date))])])])],1),e("div",{staticClass:"col-xl-12 col-md-12"},[e("card",[e("h4",[t._v("Property Details")]),e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Name:")]),t._v(" "+t._s(t.dashboard.tanent_details.property.name))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Address:")]),t._v(" "+t._s(t.dashboard.tanent_details.property.door_no)+" "+t._s(t.dashboard.tanent_details.property.street)+", "+t._s(t.dashboard.tanent_details.property.area)+", "+t._s(t.dashboard.tanent_details.property.county)+", "+t._s(t.dashboard.tanent_details.property.postcode))]),e("li",{staticClass:"list-group-item"},[e("strong",[t._v("Room Detail:")]),t._v(t._s(t.dashboard.tanent_details.room.name))])])])],1)]):t._e()])])},Be=[],Le=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t.$slots.header?e("div",{staticClass:"card-header"},[t._t("header")],2):t._e(),e("div",{staticClass:"card-body"},[e("div",{staticClass:"ct-chart ml-2",attrs:{id:t.chartId}})]),t.$slots.footer?e("div",{staticClass:"card-footer"},[t._t("footer")],2):t._e()])},Re=[],Ue=(a("96cf"),a("3b8d")),Fe={name:"chart-card",components:{Card:ot},props:{chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:function(){return{}}},chartData:{type:Object,default:function(){return{labels:[],series:[]}}},responsiveOptions:[Object,Array]},data:function(){return{chartId:"no-id",$Chartist:null,chart:null}},methods:{initChart:function(){var t="#".concat(this.chartId);this.chart=this.$Chartist[this.chartType](t,this.chartData,this.chartOptions,this.responsiveOptions),this.$emit("initialized",this.chart),"Line"===this.chartType&&this.animateLineChart(),"Bar"===this.chartType&&this.animateBarChart()},updateChartId:function(){var t=(new Date).getTime().toString(),e=this.getRandomInt(0,t);this.chartId="div_".concat(e)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},animateLineChart:function(){var t=this,e=0,a=500,i=80;this.chart.on("draw",(function(n){"line"===n.type||"area"===n.type?n.element.animate({d:{begin:600,dur:700,from:n.path.clone().scale(1,0).translate(0,n.chartRect.height()).stringify(),to:n.path.clone().stringify(),easing:t.$Chartist.Svg.Easing.easeOutQuint}}):"point"===n.type&&(e++,n.element.animate({opacity:{begin:e*i,dur:a,from:0,to:1,easing:"ease"}}))})),e=0},animateBarChart:function(){var t=0,e=500,a=80;this.chart.on("draw",(function(i){"bar"===i.type&&(t++,i.element.animate({opacity:{begin:t*a,dur:e,from:0,to:1,easing:"ease"}}))}))}},mounted:function(){var t=Object(Ue["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.updateChartId(),t.next=3,a.e("chunk-2d219ff9").then(a.t.bind(null,"ba48",7));case 3:e=t.sent,this.$Chartist=e.default||e,this.initChart();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Ee=Fe,Me=Object(c["a"])(Ee,Le,Re,!1,null,null,null),He=Me.exports,Je=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card-stats"},[e("div",{staticClass:"row"},[t.$slots.header?e("div",{staticClass:"col-5"},[e("div",{staticClass:"icon-big text-center"},[t._t("header")],2)]):t._e(),t.$slots.content?e("div",{staticClass:"col-7"},[e("div",{staticClass:"numbers"},[t._t("content")],2)]):t._e()]),t.$slots.footer?e("div",{staticClass:"stats",attrs:{slot:"footer"},slot:"footer"},[t._t("footer")],2):t._e()])},Ke=[],Ve={name:"stats-card",components:{Card:ot}},Ye=Ve,Ge=Object(c["a"])(Ye,Je,Ke,!1,null,null,null),We=Ge.exports,Qe=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",t._l(t.columns,(function(a){return e("th",{key:a},[t._v(t._s(a))])})),0)]}))],2),e("tbody",t._l(t.data,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return t._l(t.columns,(function(i){return t.hasValue(a,i)?e("td",{key:i},[t._v(t._s(t.itemValue(a,i)))]):t._e()}))}),{row:a})],2)})),0)])},Xe=[],Ze={name:"l-table",props:{columns:Array,data:Array},methods:{hasValue:function(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue:function(t,e){return t[e.toLowerCase()]}}},ta=Ze,ea=Object(c["a"])(ta,Qe,Xe,!1,null,null,null),aa=ea.exports,ia=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"card"},[e("div",{staticClass:"col-md-12"},[e("h5",{staticClass:"d-flex justify-content-center p-2"},[t._v("Your E-mail address and Phone number are not verified. To access the JPC dashboard please verify your details.")]),t.currentUser.email_verified_at||t.currentUser.phone_no_verified_at||t.otpScreen?t._e():e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",label:"E-mail address",placeholder:"E-mail address",readonly:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.isSubmitted&&t.$v.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone number",placeholder:"Phone number",readonly:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t.isSubmitted&&t.$v.phone.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.phone.required?t._e():e("span",[t._v("Phone field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-success mb-4",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.emailVerified.apply(null,arguments)}}},[t._v("Verify E-mail")])])])]),t.otpScreen?e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"E-mail OTP",placeholder:"E-mail OTP"},model:{value:t.email_otp,callback:function(e){t.email_otp=e},expression:"email_otp"}}),t.isSubmitted&&t.email_otperror?e("div",{staticClass:"invalid-feedback"},[e("span",[t._v("OTP field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Phone OTP",placeholder:"Phone OTP"},model:{value:t.phone_otp,callback:function(e){t.phone_otp=e},expression:"phone_otp"}}),t.isSubmitted&&t.phone_otperror?e("div",{staticClass:"invalid-feedback"},[e("span",[t._v("OTP field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-success mb-4",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.otpVerified.apply(null,arguments)}}},[t._v("Send")])])])]):t._e()])])])])])},na=[],sa={components:{LTable:aa,ChartCard:He,StatsCard:We,BaseInput:O},data:function(){return{otpScreen:!1,phoneerror:!1,email_otperror:!1,phone_otperror:!1,isSubmitted:!1,currentUser:"",phone:"",email:"",email_otp:"",phone_otp:""}},validations:{email:{required:ze["required"],email:ze["email"]},phone:{required:ze["required"]}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.phone=this.currentUser.phone_no,this.email=this.currentUser.email},methods:{emailVerified:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/generate-otp",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.otpScreen=!0)})).catch((function(e){t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},otpVerified:function(){var t=this;if(this.isSubmitted=!0,this.phone_otperror=!1,this.email_otperror=!1,""!=this.email_otp)if(""!=this.phone_otp){console.log(this.otp);var e={phoneOtp:this.phone_otp,emailOtp:this.email_otp};zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/validate-otps",e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&t.$router.reload()})).catch((function(e){t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){})),this.otpScreen=!1}else this.phone_otperror=!0;else this.email_otperror=!0}}},oa=sa,ra=(a("f6c0"),Object(c["a"])(oa,ia,na,!1,null,null,null)),la=ra.exports,ca={components:{LTable:aa,ChartCard:He,StatsCard:We,Otp:la},data:function(){return{imagePath:"",dashboard:"",currentUser:"",editTooltip:"Edit Task",deleteTooltip:"Remove",uer:"",lineChart:{data:{labels:["Jan","Feb","March","April","May","June","July","August","Sept","Oct","Nov","Dec"],series:[[2879,2850,4900],[670,1520,0]]},options:{low:0,high:9e3,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:100}},responsiveOptions:[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(t){return t[0]}}}]]}}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),console.log(this.currentUser),this._getDashboard(),this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/"},methods:{directLink:function(t){"admin"===t?window.location.href="/admin/user-list":"manager"===t?window.location.href="/admin/user-list#manager-list":this.$router.push({name:t})},_getDashboard:function(){var t=this;1!=this.currentUser.role_id&&2!=this.currentUser.role_id||(this.url="http://property-apis.jpcdevelopment.co.uk/api/dashboard"),4==this.currentUser.role_id&&(this.url="http://property-apis.jpcdevelopment.co.uk/api/tenant-dashboard"),zt["a"].get(this.url,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.dashboard=e.data.data)})).catch((function(e){console.log(e),t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))}}},da=ca,ua=(a("3330"),Object(c["a"])(da,Oe,Be,!1,null,null,null)),pa=ua.exports,ma=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8"},[e("card",[e("div",{staticClass:"text-left"},[t._v("Current Role : "),t._l(t.roles,(function(a,i){return e("span",{key:a},[i==t.currentUser.role_id?e("strong",[t._v(t._s(a))]):t._e()])}))],2),e("div",{staticClass:"text-left"},[t._v("Current Permissions : "),e("strong",[t._v("Full")])])])],1),e("div",{staticClass:"col-md-8"},[e("edit-profile-form")],1),e("div",{staticClass:"col-md-4"},[e("user-password"),e("user-card")],1)])])])},va=[],fa=function(){var t=this,e=t._self._c;return e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Profile")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"email",label:"Email",placeholder:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.isSubmitted&&t.$v.user.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.user.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"tel",label:"Phone Number",placeholder:"Phone Number"},model:{value:t.user.phone_no,callback:function(e){t.$set(t.user,"phone_no",e)},expression:"user.phone_no"}})],1)]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateProfile.apply(null,arguments)}}},[t._v("\n        Update Profile\n      ")])]),e("div",{staticClass:"clearfix"})])])},_a=[],ga={components:{Card:ot},data:function(){return{isSubmitted:!1,currentUser:"",user:{name:"",phone_no:"",email:""}}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.user.name=this.currentUser.name,this.user.email=this.currentUser.email,this.user.phone_no=this.currentUser.phone_no},validations:{user:{name:{required:ze["required"]},email:{required:ze["required"],email:ze["email"]}}},methods:{updateProfile:function(){var t=this;this.isSubmitted=!0,this.adminerror=!1,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/profile-update",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,e.data?(t.currentUser.phone_no=t.user.phone_no,t.currentUser.name=t.user.name,t.currentUser.email=t.user.email,localStorage.setItem("user",JSON.stringify(t.currentUser)),t.$notifications.notify({message:"<span>User updated successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){console.log(e),422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},ha=ga,ba=Object(c["a"])(ha,fa,_a,!1,null,null,null),ya=ba.exports,Ca=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card-user"},[t.bankStatus?t._e():e("div",{},[e("i",[t._v("username: user_good")]),e("br"),e("i",[t._v("password: pass_good")]),e("br"),e("PlaidLink",{attrs:{clientName:"Vue Test",env:"sandbox",public_key:"dbaef5e48f1ccc027c209c029ef395",products:["auth","transactions"],onLoad:t.onLoad,onSuccess:t.onSuccess,onExit:t.onExit,onEvent:t.onEvent}},[e("button",{staticClass:"btn btn-danger justify-center"},[t._v("Add your bank account")])])],1),t.bankStatus?e("div",[e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[t._v("Bank name: "+t._s(t.bankDetails.institution.name))]),e("li",{staticClass:"list-group-item"},[t._v("Account Id: "+t._s(t.bankDetails.account_id))]),e("li",{staticClass:"list-group-item"},[t._v("Public Token: "+t._s(t.bankDetails.public_token))]),e("li",{staticClass:"list-group-item"},[t._v("Account type: "+t._s(t.bankDetails.accounts[0].subtype))])])]):t._e()])},ka=[],$a=a("b4c1"),wa={components:{Card:ot,PlaidLink:$a["a"]},data:function(){return{bankStatus:!1,bankDetails:[]}},methods:{onLoad:function(){},onSuccess:function(t,e){this.bankStatus=!0,this.bankDetails=e},onExit:function(t,e){},onEvent:function(t,e){console.log(e)}}},Aa=wa,Sa=Object(c["a"])(Aa,Ca,ka,!1,null,null,null),qa=Sa.exports,xa=function(){var t=this,e=t._self._c;return e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Update password")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("base-input",{attrs:{type:"password",label:"Old password",placeholder:"Old password"},model:{value:t.user.oldPassword,callback:function(e){t.$set(t.user,"oldPassword",e)},expression:"user.oldPassword"}}),t.isSubmitted&&t.$v.user.oldPassword.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.oldPassword.required?t._e():e("span",[t._v("Old password filed is required.")])]):t._e()],1),e("div",{staticClass:"col-md-12"},[e("base-input",{attrs:{type:"password",label:"New password",placeholder:"New password"},model:{value:t.user.newPassword,callback:function(e){t.$set(t.user,"newPassword",e)},expression:"user.newPassword"}}),t.isSubmitted&&t.$v.user.newPassword.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.newPassword.required?t._e():e("span",[t._v("New password filed is required.")])]):t._e()],1)]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateProfile.apply(null,arguments)}}},[t._v("\n        Update Password\n      ")])]),e("div",{staticClass:"clearfix"})])])},ja=[],Pa={components:{Card:ot},data:function(){return{isSubmitted:!1,user:{name:"",email:"",phone_no:"",oldPassword:"",newPassword:""}}},validations:{user:{oldPassword:{required:ze["required"]},newPassword:{required:ze["required"]}}},mounted:function(){var t=JSON.parse(localStorage.getItem("user"));this.user.name=t.name,this.user.email=t.email,this.user.phone_no=t.phone_no},methods:{updateProfile:function(){var t=this;this.isSubmitted=!0,this.adminerror=!1,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/profile-update",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,e.data?t.$notifications.notify({message:"<span>User updated successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){console.log(e),422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},za=Pa,Da=Object(c["a"])(za,xa,ja,!1,null,null,null),Ia=Da.exports,Na={components:{EditProfileForm:ya,UserCard:qa,UserPassword:Ia},data:function(){return{roles:"",currentUser:""}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this._getRole()},methods:{_getRole:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/roles",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.roles=e.data.roles)})).catch((function(e){console.log(e),t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))}}},Ta=Na,Oa=Object(c["a"])(Ta,ma,va,!1,null,null,null),Ba=Oa.exports,La=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"strpied-tabled-with-hover",attrs:{"body-classes":"table-full-width table-responsive"}},[e("template",{slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("Striped Table with Hover")]),e("p",{staticClass:"card-category"},[t._v("Here is a subtitle for this table")])]),e("l-table",{staticClass:"table-hover table-striped",attrs:{columns:t.table1.columns,data:t.table1.data}})],2)],1),e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("template",{slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("Table on Plain Background")]),e("p",{staticClass:"card-category"},[t._v("Here is a subtitle for this table")])]),e("div",{staticClass:"table-responsive"},[e("l-table",{staticClass:"table-hover",attrs:{columns:t.table2.columns,data:t.table2.data}})],1)],2)],1),e("div",{staticClass:"col-12"},[e("card",{staticClass:"strpied-tabled-with-hover",attrs:{"body-classes":"table-full-width table-responsive"}},[e("template",{slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("Small table")]),e("p",{staticClass:"card-category"},[t._v("Here is a subtitle for this table")])]),e("l-table",{staticClass:"table-hover table-striped table-sm",attrs:{columns:t.table1.columns,data:t.table1.data}})],2)],1)])])])},Ra=[],Ua=["Id","Name","Salary","Country","City"],Fa=[{id:1,name:"Dakota Rice",salary:"$36.738",country:"Niger",city:"Oud-Turnhout"},{id:2,name:"Minerva Hooper",salary:"$23,789",country:"Curaçao",city:"Sinaai-Waas"},{id:3,name:"Sage Rodriguez",salary:"$56,142",country:"Netherlands",city:"Baileux"},{id:4,name:"Philip Chaney",salary:"$38,735",country:"Korea, South",city:"Overland Park"},{id:5,name:"Doris Greene",salary:"$63,542",country:"Malawi",city:"Feldkirchen in Kärnten"}],Ea={components:{LTable:aa,Card:ot},data:function(){return{table1:{columns:[].concat(Ua),data:[].concat(Fa)},table2:{columns:[].concat(Ua),data:[].concat(Fa)}}}},Ma=Ea,Ha=Object(c["a"])(Ma,La,Ra,!1,null,null,null),Ja=(Ha.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("template",{slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("Light Bootstrap Table Heading")]),e("p",{staticClass:"card-category"},[t._v("Created using Roboto Font Family")])]),e("div",{staticClass:"typo-line"},[e("h1",[e("p",{staticClass:"category"},[t._v("Header 1")]),t._v("Light Bootstrap Table Heading ")])]),e("div",{staticClass:"typo-line"},[e("h2",[e("p",{staticClass:"category"},[t._v("Header 2")]),t._v("Light Bootstrap Table Heading")])]),e("div",{staticClass:"typo-line"},[e("h3",[e("p",{staticClass:"category"},[t._v("Header 3")]),t._v("Light Bootstrap Table Heading")])]),e("div",{staticClass:"typo-line"},[e("h4",[e("p",{staticClass:"category"},[t._v("Header 4")]),t._v("Light Bootstrap Table Heading")])]),e("div",{staticClass:"typo-line"},[e("h5",[e("p",{staticClass:"category"},[t._v("Header 5")]),t._v("Light Bootstrap Table Heading")])]),e("div",{staticClass:"typo-line"},[e("h6",[e("p",{staticClass:"category"},[t._v("Header 6")]),t._v("Light Bootstrap Table Heading")])]),e("div",{staticClass:"typo-line"},[e("p",[e("span",{staticClass:"category"},[t._v("Paragraph")]),t._v("Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam.\n            ")])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Quote")]),e("blockquote",[e("p",[t._v("\n                Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam.\n              ")]),e("small",[t._v("\n                Steve Jobs, CEO Apple\n              ")])])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Muted Text")]),e("p",{staticClass:"text-muted"},[t._v("\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet.\n            ")])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Coloured Text")]),e("p",{staticClass:"text-primary"},[t._v("\n              Text Primary - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-info"},[t._v("\n              Text Info - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-success"},[t._v("\n              Text Success - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-warning"},[t._v("\n              Text Warning - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-danger"},[t._v("\n              Text Danger - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet.\n            ")])]),e("div",{staticClass:"typo-line"},[e("h2",[e("p",{staticClass:"category"},[t._v("Small Tag")]),t._v("Header with small subtitle "),e("br"),e("small",[t._v('".small" is a tag for the headers')])])])],2)],1)])])])}),Ka=[],Va={components:{Card:ot}},Ya=Va,Ga=Object(c["a"])(Ya,Ja,Ka,!1,null,null,null),Wa=(Ga.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("card",[e("template",{slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("100 Awesome Nucleo Icons")]),e("p",{staticClass:"card-category"},[t._v("Handcrafted by our friends from "),e("a",{attrs:{target:"_blank",href:"https://nucleoapp.com/?ref=1712"}},[t._v("NucleoApp")])])]),e("div",{staticClass:"all-icons"},[e("div",{staticClass:"row"},[e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-air-baloon"}),e("p",[t._v("nc-air-baloon")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-album-2"}),e("p",[t._v("nc-album-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-alien-33"}),e("p",[t._v("nc-alien-33")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-align-center"}),e("p",[t._v("nc-align-center")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-align-left-2"}),e("p",[t._v("nc-align-left-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-ambulance"}),e("p",[t._v("nc-ambulance")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-android"}),e("p",[t._v("nc-android")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-app"}),e("p",[t._v("nc-app")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-apple"}),e("p",[t._v("nc-apple")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-atom"}),e("p",[t._v("nc-atom")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-attach-87"}),e("p",[t._v("nc-attach-87")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-audio-92"}),e("p",[t._v("nc-audio-92")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-backpack"}),e("p",[t._v("nc-backpack")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-badge"}),e("p",[t._v("nc-badge")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-bag"}),e("p",[t._v("nc-bag")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-bank"}),e("p",[t._v("nc-bank")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-battery-81"}),e("p",[t._v("nc-battery-81")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-bell-55"}),e("p",[t._v("nc-bell-55")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-bold"}),e("p",[t._v("nc-bold")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-bulb-63"}),e("p",[t._v("nc-bulb-63")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-bullet-list-67"}),e("p",[t._v("nc-bullet-list-67")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-bus-front-12"}),e("p",[t._v("nc-bus-front-12")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-button-pause"}),e("p",[t._v("nc-button-pause")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-button-play"}),e("p",[t._v("nc-button-play")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-button-power"}),e("p",[t._v("nc-button-power")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-camera-20"}),e("p",[t._v("nc-camera-20")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-caps-small"}),e("p",[t._v("nc-caps-small")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-cart-simple"}),e("p",[t._v("nc-cart-simple")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-cctv"}),e("p",[t._v("nc-cctv")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-chart-bar-32"}),e("p",[t._v("nc-chart-bar-32")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-chart-pie-35"}),e("p",[t._v("nc-chart-pie-35")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-chart-pie-36"}),e("p",[t._v("nc-chart-pie-36")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-chart"}),e("p",[t._v("nc-chart")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-chat-round"}),e("p",[t._v("nc-chat-round")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-check-2"}),e("p",[t._v("nc-check-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-circle-09"}),e("p",[t._v("nc-circle-09")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-circle"}),e("p",[t._v("nc-circle")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-cloud-download-93"}),e("p",[t._v("nc-cloud-download-93")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-cloud-upload-94"}),e("p",[t._v("nc-cloud-upload-94")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-compass-05"}),e("p",[t._v("nc-compass-05")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-controller-modern"}),e("p",[t._v("nc-controller-modern")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-credit-card"}),e("p",[t._v("nc-credit-card")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-delivery-fast"}),e("p",[t._v("nc-delivery-fast")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-email-83"}),e("p",[t._v("nc-email-83")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-email-85"}),e("p",[t._v("nc-email-85")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-explore-2"}),e("p",[t._v("nc-explore-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-fav-remove"}),e("p",[t._v("nc-fav-remove")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-favourite-28"}),e("p",[t._v("nc-favourite-28")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-globe-2"}),e("p",[t._v("nc-globe-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-grid-45"}),e("p",[t._v("nc-grid-45")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-headphones-2"}),e("p",[t._v("nc-headphones-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-html5"}),e("p",[t._v("nc-html5")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-istanbul"}),e("p",[t._v("nc-istanbul")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-key-25"}),e("p",[t._v("nc-key-25")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-layers-3"}),e("p",[t._v("nc-layers-3")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-light-3"}),e("p",[t._v("nc-light-3")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-lock-circle-open"}),e("p",[t._v("nc-lock-circle-open")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-map-big"}),e("p",[t._v("nc-map-big")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-mobile"}),e("p",[t._v("nc-mobile")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-money-coins"}),e("p",[t._v("nc-money-coins")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-note-03"}),e("p",[t._v("nc-note-03")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-notes"}),e("p",[t._v("nc-notes")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-notification-70"}),e("p",[t._v("nc-notification-70")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-palette"}),e("p",[t._v("nc-palette")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-paper-2"}),e("p",[t._v("nc-paper-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-pin-3"}),e("p",[t._v("nc-pin-3")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-planet"}),e("p",[t._v("nc-planet")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-preferences-circle-rotate"}),e("p",[t._v("nc-preferences-circle-rotate")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-puzzle-10"}),e("p",[t._v("nc-puzzle-10")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-quote"}),e("p",[t._v("nc-quote")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-refresh-02"}),e("p",[t._v("nc-refresh-02")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-ruler-pencil"}),e("p",[t._v("nc-ruler-pencil")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-satisfied"}),e("p",[t._v("nc-satisfied")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-scissors"}),e("p",[t._v("nc-scissors")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-send"}),e("p",[t._v("nc-send")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-settings-90"}),e("p",[t._v("nc-settings-90")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-settings-gear-64"}),e("p",[t._v("nc-settings-gear-64")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-settings-tool-66"}),e("p",[t._v("nc-settings-tool-66")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-simple-add"}),e("p",[t._v("nc-simple-add")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-simple-delete"}),e("p",[t._v("nc-simple-delete")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-simple-remove"}),e("p",[t._v("nc-simple-remove")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-single-02"}),e("p",[t._v("nc-single-02")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-single-copy-04"}),e("p",[t._v("nc-single-copy-04")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-spaceship"}),e("p",[t._v("nc-spaceship")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-square-pin"}),e("p",[t._v("nc-square-pin")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-stre-down"}),e("p",[t._v("nc-stre-down")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-stre-left"}),e("p",[t._v("nc-stre-left")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-stre-right"}),e("p",[t._v("nc-stre-right")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-stre-up"}),e("p",[t._v("nc-stre-up")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-sun-fog-29"}),e("p",[t._v("nc-sun-fog-29")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-support-17"}),e("p",[t._v("nc-support-17")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-tablet-2"}),e("p",[t._v("nc-tablet-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-tag-content"}),e("p",[t._v("nc-tag-content")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-tap-01"}),e("p",[t._v("nc-tap-01")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-time-alarm"}),e("p",[t._v("nc-time-alarm")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-tv-2"}),e("p",[t._v("nc-tv-2")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-umbrella-13"}),e("p",[t._v("nc-umbrella-13")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-vector"}),e("p",[t._v("nc-vector")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-watch-time"}),e("p",[t._v("nc-watch-time")])])]),e("div",{staticClass:"font-icon-list col-lg-2 col-md-3 col-sm-4 col-6"},[e("div",{staticClass:"font-icon-detail"},[e("i",{staticClass:"nc-icon nc-zoom-split"}),e("p",[t._v("nc-zoom-split")])])])])])],2)],1)])])])}),Qa=[],Xa={components:{Card:ot}},Za=Xa,ti=Object(c["a"])(Za,Wa,Qa,!1,null,null,null),ei=(ti.exports,function(){var t=this,e=t._self._c;return e("gmap-map",{attrs:{id:"map",center:t.center,zoom:13,options:t.options,"map-type-id":"terrain"}},[e("gmap-marker",{attrs:{position:t.center}})],1)}),ai=[],ii="YOUR_API_KEY_HERE",ni=a("755e");i["a"].use(ni,{load:{key:ii}});var si,oi,ri={data:function(){return{center:{lat:40.748817,lng:-73.985428},options:{styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}]}}}},li=ri,ci=(a("7461"),Object(c["a"])(li,ei,ai,!1,null,null,null)),di=(ci.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("card",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Notifications Style")]),e("div",{staticClass:"alert alert-info"},[e("span",[t._v("This is a plain notification")])]),e("div",{staticClass:"alert alert-info"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-dismiss":"alert"}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]),e("span",[t._v("This is a notification with close button.")])]),e("div",{staticClass:"alert alert-info alert-with-icon",attrs:{"data-notify":"container"}},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-dismiss":"alert"}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]),e("span",{staticClass:"nc-icon nc-app",attrs:{"data-notify":"icon"}}),e("span",{attrs:{"data-notify":"message"}},[t._v("This is a notification with close button and icon.")])]),e("div",{staticClass:"alert alert-info alert-with-icon",attrs:{"data-notify":"container"}},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-dismiss":"alert"}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]),e("span",{staticClass:"nc-icon nc-app",attrs:{"data-notify":"icon"}}),e("span",{attrs:{"data-notify":"message"}},[t._v("This is a notification with close button and icon and have many lines. You can see that the icon and the close button are always vertically aligned. This is a beautiful notification. So you don't have to worry about the style.")])])]),e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Notification states")]),e("div",{staticClass:"alert alert-info"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-dismiss":"alert"}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]),e("span",[e("b",[t._v(" Info - ")]),t._v(' This is a regular notification made with ".alert-info"')])]),e("div",{staticClass:"alert alert-success"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-dismiss":"alert"}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]),e("span",[e("b",[t._v(" Success - ")]),t._v(' This is a regular notification made with ".alert-success"')])]),e("div",{staticClass:"alert alert-warning"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-dismiss":"alert"}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]),e("span",[e("b",[t._v(" Warning - ")]),t._v(' This is a regular notification made with ".alert-warning"')])]),e("div",{staticClass:"alert alert-danger"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true","data-dismiss":"alert"}},[e("i",{staticClass:"nc-icon nc-simple-remove"})]),e("span",[e("b",[t._v(" Danger - ")]),t._v(' This is a regular notification made with ".alert-danger"')])])])]),e("br"),e("br"),e("div",{staticClass:"places-buttons"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-6 text-center"},[e("h5",[t._v("Notifications Places\n              "),e("p",{staticClass:"category"},[t._v("Click to view notifications")])])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-3 col-md-offset-1"},[e("button",{staticClass:"btn btn-default btn-block",on:{click:function(e){return t.notifyVue("top","left")}}},[t._v("Top Left")])]),e("div",{staticClass:"col-md-3"},[e("button",{staticClass:"btn btn-default btn-block",on:{click:function(e){return t.notifyVue("top","center")}}},[t._v("Top Center")])]),e("div",{staticClass:"col-md-3"},[e("button",{staticClass:"btn btn-default btn-block",on:{click:function(e){return t.notifyVue("top","right")}}},[t._v("Top Right")])])]),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-3 col-md-offset-1"},[e("button",{staticClass:"btn btn-default btn-block",on:{click:function(e){return t.notifyVue("bottom","left")}}},[t._v("Bottom Left")])]),e("div",{staticClass:"col-md-3"},[e("button",{staticClass:"btn btn-default btn-block",on:{click:function(e){return t.notifyVue("bottom","center")}}},[t._v("Bottom Center")])]),e("div",{staticClass:"col-md-3"},[e("button",{staticClass:"btn btn-default btn-block",on:{click:function(e){return t.notifyVue("bottom","right")}}},[t._v("Bottom Right")])])])])])],1)])}),ui=[],pi={components:{Card:ot},data:function(){return{type:["","info","success","warning","danger"],notifications:{topCenter:!1}}},methods:{notifyVue:function(t,e){var a=Math.floor(4*Math.random()+1);this.$notifications.notify({message:"<span>Welcome to <b>Light Bootstrap Dashboard</b> - a beautiful freebie for every web developer.</span>",icon:"nc-icon nc-app",horizontalAlign:e,verticalAlign:t,type:this.type[a]})}}},mi=pi,vi=Object(c["a"])(mi,di,ui,!1,null,null,null),fi=(vi.exports,function(){var t=this;t._self._c;return t._m(0)}),_i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 ml-auto mr-auto"},[e("div",{staticClass:"card"},[e("div",{staticClass:"header text-center"},[e("h4",{staticClass:"title"},[t._v("Light Bootstrap Dashboard PRO")]),e("p",{staticClass:"category"},[t._v("Are you looking for more components? Please check our Premium Version of Light Bootstrap Dashboard.")]),e("br")]),e("div",{staticClass:"content table-responsive table-upgrade"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th"),e("th",{staticClass:"text-center"},[t._v("Free")]),e("th",{staticClass:"text-center"},[t._v("PRO")])])]),e("tbody",[e("tr",[e("td",[t._v("Components")]),e("td",[t._v("16")]),e("td",[t._v("160+")])]),e("tr",[e("td",[t._v("Plugins")]),e("td",[t._v("4")]),e("td",[t._v("17+")])]),e("tr",[e("td",[t._v("Example Pages")]),e("td",[t._v("4")]),e("td",[t._v("25+")])]),e("tr",[e("td",[t._v("Documentation")]),e("td",[e("i",{staticClass:"fa fa-check text-success"})]),e("td",[e("i",{staticClass:"fa fa-check text-success"})])]),e("tr",[e("td",[t._v("SASS Files")]),e("td",[e("i",{staticClass:"fa fa-check text-success"})]),e("td",[e("i",{staticClass:"fa fa-check text-success"})])]),e("tr",[e("td",[t._v("Login/Register/Lock Pages")]),e("td",[e("i",{staticClass:"fa fa-times text-danger"})]),e("td",[e("i",{staticClass:"fa fa-check text-success"})])]),e("tr",[e("td",[t._v("Premium Support")]),e("td",[e("i",{staticClass:"fa fa-times text-danger"})]),e("td",[e("i",{staticClass:"fa fa-check text-success"})])]),e("tr",[e("td"),e("td",[t._v("Free")]),e("td",[t._v("Just $49")])]),e("tr",{staticClass:"last-row"},[e("td"),e("td",[e("a",{staticClass:"upgrade-table-btn btn btn-b btn-round btn-fill btn-default disabled",attrs:{href:"#"}},[t._v("Current Version")])]),e("td",[e("a",{staticClass:"upgrade-table-btn btn btn-round btn-fill btn-info",attrs:{target:"_blank",href:"http://www.creative-tim.com/product/vue-light-bootstrap-dashboard-pro/?ref=vue-lbdupgrade"}},[t._v("Upgrade to PRO")])])])])])])])])])])])}],gi={},hi=gi,bi=(a("97f3"),Object(c["a"])(hi,fi,_i,!1,null,null,null)),yi=(bi.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("Landlord / Investors List")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/new-owner"}},[t._v("Add New")])],1)]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.No")]),e("th",[t._v("Name")]),e("th",[t._v("Email")]),e("th",[t._v("Phone")]),e("th",[t._v("Type")]),e("th",[t._v("Address")]),e("th",[t._v("Doc Link")]),e("th",[t._v("Action")])])]}))],2),e("tbody",[t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.phone_no))]),e("td",[1==a.typer_of_owner?e("span",[t._v("Landlord")]):t._e(),2==a.typer_of_owner?e("span",[t._v("Investor")]):t._e()]),e("td",[t._v(t._s(a.door_no)+" "+t._s(a.street)+" "+t._s(a.area)+", "+t._s(a.postcode))]),e("td",[a.id_proof?e("a",{attrs:{href:t.imagePath+a.id_proof,target:"_blank"}},[t._v("Click Here")]):e("span",[t._v("N/A")])]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/edit-owner/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return t.deleteProfile(a.id,i)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),t._l(t.tableInvestor,(function(a,i){return e("tr",{key:i+t.tableData.length},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1+t.tableData.length))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.phone_no))]),e("td",[1==a.typer_of_owner?e("span",[t._v("Landlord")]):t._e(),2==a.typer_of_owner?e("span",[t._v("Investor")]):t._e()]),e("td",[t._v(t._s(a.door_no)+" "+t._s(a.street)+" "+t._s(a.area)+", "+t._s(a.postcode))]),e("td",[a.id_proof?e("a",{attrs:{href:t.imagePath+a.id_proof,target:"_blank"}},[t._v("Click Here")]):e("span",[t._v("N/A")])]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/edit-owner/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return t.deleteProfile(a.id,i+t.tableData.length)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),0==t.tableData.length?e("tr",[t.loading?t._e():e("td",[t._v("No record found.")])]):t._e()],2)]),t.loading?e("ajax-loader"):t._e()],1)])],1)])])])}),Ci=[],ki={components:{LTable:aa,Card:ot,AjaxLoader:Pe},data:function(){return{imagePath:"",tableData:[],tableInvestor:[],loading:!1}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this._getBusinesses()},methods:{deleteProfile:function(t,e){var a=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/owner/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),a.tableData.splice(e,1)})).catch((function(t){a.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))},_getBusinesses:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/owners",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.owners&&(t.tableInvestor=e.data.investor,t.tableData=e.data.owners),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))}}},$i=ki,wi=Object(c["a"])($i,yi,Ci,!1,null,null,null),Ai=wi.exports,Si=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add New Landlord/Investors")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",label:"Email",placeholder:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.isSubmitted&&t.$v.user.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.user.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone",placeholder:"Phone"},model:{value:t.user.phone_no,callback:function(e){t.$set(t.user,"phone_no",e)},expression:"user.phone_no"}}),t.isSubmitted&&t.$v.user.phone_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.phone_no.required?t._e():e("span",[t._v("Phone field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.typer_of_owner,expression:"user.typer_of_owner"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"typer_of_owner",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Landlord")]),e("option",{attrs:{value:"2"}},[t._v("Investor")])]),t.isSubmitted&&t.$v.user.typer_of_owner.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.typer_of_owner.required?t._e():e("span",[t._v("Please select owner type.")])]):t._e()]),1==t.currentUser.role_id?e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.admin_id,expression:"user.admin_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"admin_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},t._l(t.admins,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.admin_id.required?t._e():e("span",[t._v("Admin field is required.")])]):t._e()]):t._e(),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Door Number",placeholder:"Door Number"},model:{value:t.user.door_no,callback:function(e){t.$set(t.user,"door_no",e)},expression:"user.door_no"}}),t.isSubmitted&&t.$v.user.door_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.door_no.required?t._e():e("span",[t._v("Door field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Street",placeholder:"Street"},model:{value:t.user.street,callback:function(e){t.$set(t.user,"street",e)},expression:"user.street"}}),t.isSubmitted&&t.$v.user.street.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.street.required?t._e():e("span",[t._v("Street field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Area",placeholder:"Area"},model:{value:t.user.area,callback:function(e){t.$set(t.user,"area",e)},expression:"user.area"}}),t.isSubmitted&&t.$v.user.area.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.area.required?t._e():e("span",[t._v("Area field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Postal Code",placeholder:"ZIP Code"},model:{value:t.user.postcode,callback:function(e){t.$set(t.user,"postcode",e)},expression:"user.postcode"}}),t.isSubmitted&&t.$v.user.postcode.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.postcode.required?t._e():e("span",[t._v("Postal Code field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Bank Name",placeholder:"Bank Name"},model:{value:t.user.bank_name,callback:function(e){t.$set(t.user,"bank_name",e)},expression:"user.bank_name"}}),t.isSubmitted&&t.$v.user.bank_name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.bank_name.required?t._e():e("span",[t._v("Bank name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Account Number",placeholder:"Account Number"},model:{value:t.user.account_no,callback:function(e){t.$set(t.user,"account_no",e)},expression:"user.account_no"}}),t.isSubmitted&&t.$v.user.account_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.account_no.required?t._e():e("span",[t._v("Account number field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Sort Code",placeholder:"Sort Code"},model:{value:t.user.sort_code,callback:function(e){t.$set(t.user,"sort_code",e)},expression:"user.sort_code"}}),t.isSubmitted&&t.$v.user.sort_code.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.sort_code.required?t._e():e("span",[t._v("Sort code field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Identity Proof Documents")]),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",disabled:t.isInitial},on:{change:t.onFileChange}}),t.isInitial?t._e():e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]),t.isInitial?e("p",[t._v("\n                        Uploading "+t._s(t.fileName)+"...\n                      ")]):t._e()])]),this.user.id_proof?e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.imagePath+this.user.id_proof}})])]):t._e()]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-secondry float-left",attrs:{to:{name:"OwnerList"}}},[t._v("\n                  Back\n                ")]),e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Save\n                ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},qi=[],xi={},ji=Object(c["a"])(xi,si,oi,!1,null,null,null),Pi=ji.exports,zi={components:{Card:ot,AjaxLoader:Pe,UploadImage:Pi},data:function(){return{isInitial:!1,fileName:"",id_proof:[],images:[],admins:"",managers:"",user:{admin_id:"",email:"",name:"",phone_no:"",door_no:"",area:"",street:"",postcode:"",typer_of_owner:"",bank_name:"",account_no:"",sort_code:"",id_proof:""},isSubmitted:!1,loading:!1,path:"",currentUser:""}},validations:{user:{email:{required:ze["required"],email:ze["email"]},name:{required:ze["required"]},phone_no:{required:ze["required"]},door_no:{required:ze["required"]},area:{required:ze["required"]},street:{required:ze["required"]},postcode:{required:ze["required"]},typer_of_owner:{required:ze["required"]},bank_name:{required:ze["required"]},account_no:{required:ze["required"]},sort_code:{required:ze["required"]},admin_id:{required:ze["required"]}}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.currentUser=JSON.parse(localStorage.getItem("user")),this._getAdmin(),this.path="https://jpcproperties.s3.eu-west-2.amazonaws.com/",2===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.id),3===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.created_under_admin)},methods:{onChange:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name,n.append("image",t.target.files[0]),n.append("path","owner"),n.append("key","id_proof"),this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.isInitial=!0,a.user.id_proof=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loading=!1}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/owner/create",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"OwnerList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Di=zi,Ii=(a("53e1"),Object(c["a"])(Di,Si,qi,!1,null,null,null)),Ni=Ii.exports,Ti=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Landlord/Investors")]),t.user&&!t.loading?e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",label:"Email",placeholder:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.isSubmitted&&t.$v.user.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.user.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone",placeholder:"Phone"},model:{value:t.user.phone_no,callback:function(e){t.$set(t.user,"phone_no",e)},expression:"user.phone_no"}}),t.isSubmitted&&t.$v.user.phone_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.phone_no.required?t._e():e("span",[t._v("Phone field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.typer_of_owner,expression:"user.typer_of_owner"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"typer_of_owner",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Landlord")]),e("option",{attrs:{value:"2"}},[t._v("Investor")])]),t.isSubmitted&&t.$v.user.typer_of_owner.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.typer_of_owner.required?t._e():e("span",[t._v("Please select owner type.")])]):t._e()]),1==t.currentUser.role_id?e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.admin_id,expression:"user.admin_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"admin_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},t._l(t.admins,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.admin_id.required?t._e():e("span",[t._v("Admin field is required.")])]):t._e()]):t._e(),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Door Number",placeholder:"Door Number"},model:{value:t.user.door_no,callback:function(e){t.$set(t.user,"door_no",e)},expression:"user.door_no"}}),t.isSubmitted&&t.$v.user.door_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.door_no.required?t._e():e("span",[t._v("Address field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Street",placeholder:"Street"},model:{value:t.user.street,callback:function(e){t.$set(t.user,"street",e)},expression:"user.street"}}),t.isSubmitted&&t.$v.user.street.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.street.required?t._e():e("span",[t._v("Street field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Area",placeholder:"Area"},model:{value:t.user.area,callback:function(e){t.$set(t.user,"area",e)},expression:"user.area"}}),t.isSubmitted&&t.$v.user.area.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.area.required?t._e():e("span",[t._v("Area field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Postal Code",placeholder:"ZIP Code"},model:{value:t.user.postcode,callback:function(e){t.$set(t.user,"postcode",e)},expression:"user.postcode"}}),t.isSubmitted&&t.$v.user.postcode.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.postcode.required?t._e():e("span",[t._v("Postal Code field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Bank Name",placeholder:"Bank Name"},model:{value:t.user.bank_name,callback:function(e){t.$set(t.user,"bank_name",e)},expression:"user.bank_name"}}),t.isSubmitted&&t.$v.user.bank_name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.bank_name.required?t._e():e("span",[t._v("Bank name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Account Number",placeholder:"Account Number"},model:{value:t.user.account_no,callback:function(e){t.$set(t.user,"account_no",e)},expression:"user.account_no"}}),t.isSubmitted&&t.$v.user.account_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.account_no.required?t._e():e("span",[t._v("Account number field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Sort Code",placeholder:"Sort Code"},model:{value:t.user.sort_code,callback:function(e){t.$set(t.user,"sort_code",e)},expression:"user.sort_code"}}),t.isSubmitted&&t.$v.user.sort_code.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.sort_code.required?t._e():e("span",[t._v("Sort code field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Identity Proof Documents")]),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",disabled:t.isInitial},on:{change:t.onFileChange}}),t.isInitial?t._e():e("p",[t._v("\n                            Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                          ")]),t.isInitial?e("p",[t._v("\n                            Uploading "+t._s(t.fileName)+"...\n                          ")]):t._e()])]),this.user.id_proof?e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.imagePath+this.user.id_proof}})])]):t._e()]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-secondry float-left",attrs:{to:{name:"OwnerList"}}},[t._v("\n                  Back\n                ")]),e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateProfile.apply(null,arguments)}}},[t._v("\n                  Update\n                ")])],1),e("div",{staticClass:"clearfix"})]):t._e(),t.loading?e("ajax-loader"):t._e()],1)],1)])])])},Oi=[],Bi={components:{Card:ot,AjaxLoader:Pe},data:function(){return{imagePath:"",fileName:"",isInitial:!1,admins:"",user:{email:"",name:"",phone_no:"",door_no:"",area:"",street:"",postcode:"",typer_of_owner:"",bank_name:"",account_no:"",sort_code:"",id:"",id_proof:"",admin_id:""},isSubmitted:!1,loading:!1,currentUser:""}},validations:{user:{email:{required:ze["required"],email:ze["email"]},name:{required:ze["required"]},phone_no:{required:ze["required"]},door_no:{required:ze["required"]},area:{required:ze["required"]},street:{required:ze["required"]},postcode:{required:ze["required"]},typer_of_owner:{required:ze["required"]},bank_name:{required:ze["required"]},account_no:{required:ze["required"]},sort_code:{required:ze["required"]},admin_id:{required:ze["required"]}}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this._getAdmin(),2===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.id),3===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.created_under_admin),this.getOwner(this.$route.params.id)},methods:{onChange:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name,n.append("image",t.target.files[0]),n.append("path","owner"),n.append("key","id_proof"),this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.isInitial=!0,a.user.id_proof=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loading=!1}))},getOwner:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/owner/"+t+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.owners&&(e.user.admin_id=t.data.owners.admin_id,e.user.id=t.data.owners.id,e.user.account_no=t.data.owners.account_no,e.user.area=t.data.owners.area,e.user.bank_name=t.data.owners.bank_name,e.user.door_no=t.data.owners.door_no,e.user.email=t.data.owners.email,e.user.id_proof=t.data.owners.id_proof,e.user.name=t.data.owners.name,e.user.phone_no=t.data.owners.phone_no,e.user.postcode=t.data.owners.postcode,e.user.sort_code=t.data.owners.sort_code,e.user.street=t.data.owners.street,e.user.typer_of_owner=t.data.owners.typer_of_owner),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){}))},updateProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/owner/update",this.user,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"OwnerList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Li=Bi,Ri=(a("f38c"),Object(c["a"])(Li,Ti,Oi,!1,null,null,null)),Ui=Ri.exports,Fi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("Properties")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/new-property"}},[t._v("Add New")])],1)]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.No")]),e("th",[t._v("Property Name")]),e("th",[t._v("Address")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.door_no)+" "+t._s(a.street)+" "+t._s(a.area)+" "+t._s(a.county)+" "+t._s(a.postcode)+" ")]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/add-cash/"+a.id+"/property"}}},[t._v("Add Cash")]),e("router-link",{staticClass:"btn btn-info p-2 ml-2",attrs:{to:{path:"/admin/property-image/"+a.id}}},[t._v("Images")]),e("router-link",{staticClass:"btn btn-info p-2 ml-2",attrs:{to:{path:"/admin/doc-list/"+a.id}}},[t._v("Document")]),e("router-link",{staticClass:"btn btn-info p-2 ml-2",attrs:{to:{path:"/admin/property-expense/"+a.id}}},[t._v("Expense")]),e("router-link",{staticClass:"btn btn-info p-2 ml-2",attrs:{to:{path:"/admin/edit-property/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.deleteProfile.apply(null,arguments)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),0)])])])],1)])])])},Ei=[],Mi={components:{LTable:aa,Card:ot},data:function(){return{tableData:[],loading:!1}},mounted:function(){this._getProperties()},methods:{_getProperties:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/properties",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.properties&&(t.tableData=e.data.properties),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},deleteProfile:function(){alert("delete tenant")}}},Hi=Mi,Ji=Object(c["a"])(Hi,Fi,Ei,!1,null,null,null),Ki=Ji.exports,Vi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},t._l(t.tableData,(function(a,i){return e("div",{key:i,staticClass:"row"},[t._l(a,(function(a,i){return e("div",{key:i,staticClass:"col-md-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h2",[t._v(t._s(a.name))])]),t._l(a.images,(function(a){return e("div",{key:a.id,staticClass:"col-md-3"},[e("img",{staticClass:"img-thumbnail",attrs:{src:t.imagePath+a.name,alt:""}}),e("a",{staticClass:"text-success",attrs:{href:t.imagePath+a.name,target:"_blank"}},[t._v("View")]),e("span",{staticClass:"delete text-danger ml-4",on:{click:function(e){return t.deleteImage(a.id)}}},[t._v("Delete")])])}))],2),e("hr")])})),e("hr")],2)})),0)],1)])])])},Yi=[],Gi={components:{LTable:aa,Card:ot},data:function(){return{imagePath:"",tableData:[],loading:!1}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this._getProperties(this.$route.params.id)},methods:{_getProperties:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/property-images/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.propertiesImages&&(e.tableData=t.data.propertiesImages),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},deleteImage:function(t){var e=this;confirm("Do you really want to delete?")&&zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/delete-image/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),e._getProperties(e.$route.params.id)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},Wi=Gi,Qi=(a("1cd3"),Object(c["a"])(Wi,Vi,Yi,!1,null,null,null)),Xi=Qi.exports,Zi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add New Property")]),t.loading?t._e():e("form",[e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Property Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.property_type,expression:"user.property_type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"property_type",e.target.multiple?a:a[0])}}},t._l(t.propertyType,(function(a,i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Property name field is required.")])]):t._e()]),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"text",label:"Property Name",placeholder:"Property Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Property name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"text",label:"Door Number",placeholder:"Door Number"},model:{value:t.user.door_no,callback:function(e){t.$set(t.user,"door_no",e)},expression:"user.door_no"}}),t.isSubmitted&&t.$v.user.door_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.door_no.required?t._e():e("span",[t._v("Door no. field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"text",label:"Street",placeholder:"Street"},model:{value:t.user.street,callback:function(e){t.$set(t.user,"street",e)},expression:"user.street"}}),t.isSubmitted&&t.$v.user.street.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.street.required?t._e():e("span",[t._v("Street field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"area",placeholder:"area"},model:{value:t.user.area,callback:function(e){t.$set(t.user,"area",e)},expression:"user.area"}}),t.isSubmitted&&t.$v.user.area.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.area.required?t._e():e("span",[t._v("area field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"county",placeholder:"county"},model:{value:t.user.county,callback:function(e){t.$set(t.user,"county",e)},expression:"user.county"}}),t.isSubmitted&&t.$v.user.county.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.county.required?t._e():e("span",[t._v("county field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Post Code",placeholder:"Post Code"},model:{value:t.user.postcode,callback:function(e){t.$set(t.user,"postcode",e)},expression:"user.postcode"}}),t.isSubmitted&&t.$v.user.postcode.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.postcode.required?t._e():e("span",[t._v("Post Code field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[1==t.currentUser.role_id?e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.admin_id,expression:"user.admin_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"admin_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},t._l(t.admins,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.admin_id.required?t._e():e("span",[t._v("Admin field is required.")])]):t._e()]):t._e(),1==t.currentUser.role_id||2==t.currentUser.role_id?e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Manager")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.manager_id,expression:"user.manager_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"manager_id",e.target.multiple?a:a[0])}}},t._l(t.managers,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.manager_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.manager_id.required?t._e():e("span",[t._v("Landlord field is required.")])]):t._e()]):t._e(),e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Landlord")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.landlord_id,expression:"user.landlord_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"landlord_id",e.target.multiple?a:a[0])}}},t._l(t.ownerList,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.landlord_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.landlord_id.required?t._e():e("span",[t._v("Landlord field is required.")])]):t._e()]),e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Investor")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.investor_id,expression:"user.investor_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"investor_id",e.target.multiple?a:a[0])}}},t._l(t.investorList,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.investor_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.investor_id.required?t._e():e("span",[t._v("Investorfield is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v("Property Amenities")])]),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"number",label:"No. of Bedrooms",placeholder:"No. of Bedrooms"},model:{value:t.user.no_of_bedrooms,callback:function(e){t.$set(t.user,"no_of_bedrooms",e)},expression:"user.no_of_bedrooms"}}),t.isSubmitted&&t.$v.user.no_of_bedrooms.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_bedrooms.required?t._e():e("span",[t._v("Bed room field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"number",label:"No. of Livingroom",placeholder:"No. of Livingroom"},model:{value:t.user.no_of_living_areas,callback:function(e){t.$set(t.user,"no_of_living_areas",e)},expression:"user.no_of_living_areas"}}),t.isSubmitted&&t.$v.user.no_of_living_areas.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_living_areas.required?t._e():e("span",[t._v("Living room field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"number",label:"No. of Kitchen",placeholder:"No. of Kitchen"},model:{value:t.user.no_of_kitchens,callback:function(e){t.$set(t.user,"no_of_kitchens",e)},expression:"user.no_of_kitchens"}}),t.isSubmitted&&t.$v.user.no_of_kitchens.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_kitchens.required?t._e():e("span",[t._v("Kitchen field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"number",label:"No. of Bathrooms",placeholder:"No. of Bathrooms"},model:{value:t.user.no_of_bathrooms,callback:function(e){t.$set(t.user,"no_of_bathrooms",e)},expression:"user.no_of_bathrooms"}}),t.isSubmitted&&t.$v.user.no_of_bathrooms.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_bathrooms.required?t._e():e("span",[t._v("Bathroom field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Front garden")]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.front_garden,expression:"user.front_garden"}],attrs:{type:"radio",id:"yes"},domProps:{value:1,checked:t._q(t.user.front_garden,1)},on:{change:function(e){return t.$set(t.user,"front_garden",1)}}}),e("span",{staticClass:"form-check-sign"},[t._v("Yes")])])]),e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.front_garden,expression:"user.front_garden"}],attrs:{type:"radio",id:"no"},domProps:{value:0,checked:t._q(t.user.front_garden,0)},on:{change:function(e){return t.$set(t.user,"front_garden",0)}}}),e("span",{staticClass:"form-check-sign"},[t._v("No")])])])])]),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Back garden")]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.rear_garden,expression:"user.rear_garden"}],attrs:{type:"radio",id:"back_yes"},domProps:{value:1,checked:t._q(t.user.rear_garden,1)},on:{change:function(e){return t.$set(t.user,"rear_garden",1)}}}),e("span",{staticClass:"form-check-sign"},[t._v("Yes")])])]),e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.rear_garden,expression:"user.rear_garden"}],attrs:{type:"radio",id:"back_no"},domProps:{value:0,checked:t._q(t.user.rear_garden,0)},on:{change:function(e){return t.$set(t.user,"rear_garden",0)}}}),e("span",{staticClass:"form-check-sign"},[t._v("No")])])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Rent to landlord",placeholder:"Rent to landlord"},model:{value:t.user.rent_to_landlord,callback:function(e){t.$set(t.user,"rent_to_landlord",e)},expression:"user.rent_to_landlord"}}),t.isSubmitted&&t.$v.user.rent_to_landlord.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_to_landlord.required?t._e():e("span",[t._v("Rent to landlord field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"Rent start date to landlord",placeholder:"Rent start date to landlord"},model:{value:t.user.rent_start_date_to_landlord,callback:function(e){t.$set(t.user,"rent_start_date_to_landlord",e)},expression:"user.rent_start_date_to_landlord"}}),t.isSubmitted&&t.$v.user.rent_start_date_to_landlord.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_start_date_to_landlord.required?t._e():e("span",[t._v("Rent start date to landlord field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Rent date to landlord")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.rent_date_to_landlord,expression:"user.rent_date_to_landlord"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"rent_date_to_landlord",e.target.multiple?a:a[0])}}},t._l(31,(function(a){return e("option",{key:a,domProps:{value:t.k=a}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.rent_date_to_landlord.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_date_to_landlord.required?t._e():e("span",[t._v("Rent date to landlord field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Rent to investor",placeholder:"Rent to investor"},model:{value:t.user.rent_to_investor,callback:function(e){t.$set(t.user,"rent_to_investor",e)},expression:"user.rent_to_investor"}}),t.isSubmitted&&t.$v.user.rent_to_investor.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_to_investor.required?t._e():e("span",[t._v("Rent to investor field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"Rent start date to investor",placeholder:"Rent start date to investor"},model:{value:t.user.rent_start_date_to_investor,callback:function(e){t.$set(t.user,"rent_start_date_to_investor",e)},expression:"user.rent_start_date_to_investor"}}),t.isSubmitted&&t.$v.user.rent_start_date_to_investor.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_start_date_to_investor.required?t._e():e("span",[t._v("Rent start date to investor field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Rent date to investor")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.rent_date_to_investor,expression:"user.rent_date_to_investor"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"rent_date_to_investor",e.target.multiple?a:a[0])}}},t._l(31,(function(a){return e("option",{key:a,domProps:{value:t.k=a}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.rent_date_to_investor.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_date_to_investor.required?t._e():e("span",[t._v("Rent date to investor field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("House Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChange}}),0==t.user.house_images.length?e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]):t._e(),e("div",{staticClass:"row"},t._l(t.user.house_images,(function(a,i){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.user.house_images[i]}})])})),0)]),t.loadingRoom?e("ajax-loader"):t._e()],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Parking Images")]),e("br"),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.parking,expression:"user.parking"}],attrs:{type:"radio",id:"yes"},domProps:{value:1,checked:t._q(t.user.parking,1)},on:{change:function(e){return t.$set(t.user,"parking",1)}}}),e("span",{staticClass:"form-check-sign"},[t._v("Yes")])])]),e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.parking,expression:"user.parking"}],attrs:{type:"radio",id:"no"},domProps:{value:0,checked:t._q(t.user.parking,0)},on:{change:function(e){return t.$set(t.user,"parking",0)}}}),e("span",{staticClass:"form-check-sign"},[t._v("No")])])])]),t.user.parking?e("div",{staticClass:"dropbox-parking"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChangeParking}}),0==t.user.parking_images.length?e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]):t._e(),e("div",{staticClass:"row"},t._l(t.user.parking_images,(function(a,i){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.user.parking_images[i]}})])})),0)]):t._e(),t.loadingRoom?e("ajax-loader"):t._e()],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProperty.apply(null,arguments)}}},[t._v("\n                    Save & Continuous\n                  ")])])]),e("div",{staticClass:"clearfix"})]),t.loading?e("ajax-loader"):t._e()],1)],1)])])])},tn=[],en=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Room Name",placeholder:"Room Name","v-model":t.inputname}})],1),e("div",{staticClass:"col-md-8"},[e("vue-upload-multiple-image",{attrs:{"data-images":t.name,idUpload:t.id,maxImage:t.maximage,accept:"image/gif,image/jpeg,image/png,image/bmp,image/jpg",editUpload:"myIdEdit",dragText:"Drop here",browseText:"Upload images",primaryText:"File name",markIsPrimaryText:"File Name"},on:{"upload-success":t.uploadImageSuccess,"before-remove":t.beforeRemove,"edit-image":t.editImage}})],1)])},an=[],nn={name:"AmenitiesImage",components:{BaseInput:O},props:{name:Array,id:String,maximage:Number,inputname:Array,numberroom:Number},methods:{uploadImageSuccess:function(t,e,a){console.log("data",t,e,a)},beforeRemove:function(t,e,a){console.log("index",t,a);var i=confirm("remove image");1==i&&e()},editImage:function(t,e,a){console.log("edit data",t,e,a)}}},sn=nn,on=Object(c["a"])(sn,en,an,!1,null,null,null),rn=on.exports,ln={components:{Card:ot,BaseCheckbox:E,AmenitiesImage:rn,BaseRadio:Y,BaseInput:O,AjaxLoader:Pe},data:function(){return{loadingRoom:!1,admins:"",managers:"",currentUser:"",showFrontGarden:!1,showBackGarden:!1,isSubmitted:!1,loading:!1,propertyType:{1:"Apartment",2:"Bungalow"},ownerList:"",investorList:"",imagePath:"",user:{property_type:"",manager_id:"",admin_id:"",name:"",door_no:"",street:"",area:"",county:"",postcode:"",landlord_id:"",investor_id:"",property_images:[],no_of_bedrooms:0,no_of_living_areas:0,no_of_kitchens:0,no_of_bathrooms:0,front_garden:0,rear_garden:0,rent_to_landlord:"",rent_start_date_to_landlord:"",rent_date_to_landlord:"",rent_to_investor:"",rent_start_date_inverent_to_investor:"",rent_date_to_investor:"",house_images:[],parking:0,parking_images:[]}}},validations:{user:{name:{required:ze["required"]},door_no:{required:ze["required"]},street:{required:ze["required"]},area:{required:ze["required"]},county:{required:ze["required"]},landlord_id:{required:ze["required"]},investor_id:{required:ze["required"]},no_of_bedrooms:{required:ze["required"]},no_of_living_areas:{required:ze["required"]},no_of_kitchens:{required:ze["required"]},no_of_bathrooms:{required:ze["required"]},front_garden:{required:ze["required"]},rear_garden:{required:ze["required"]},postcode:{required:ze["required"]},rent_to_landlord:{required:ze["required"]},rent_start_date_to_landlord:{required:ze["required"]},rent_date_to_landlord:{required:ze["required"]},rent_to_investor:{required:ze["required"]},rent_start_date_to_investor:{required:ze["required"]},rent_date_to_investor:{required:ze["required"]},admin_id:{required:ze["required"]},manager_id:{required:ze["required"]}}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.currentUser=JSON.parse(localStorage.getItem("user")),this._getOwner(),this._getAdmin(),2===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.id,this._getManager(this.currentUser.id)),3===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.created_under_admin,this.user.manager_id=this.currentUser.id)},methods:{_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getManager:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},onChange:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getOwner:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/owners",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.owners&&(t.ownerList=e.data.owners,t.investorList=e.data.investor),t.loading=!1})).catch((function(e){console.log(e),t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},onFileChange:function(t){var e=this;t.preventDefault();for(var a=this,i=(t.target.getAttribute("data-id"),{headers:{"content-type":"multipart/form-data"}}),n=new FormData,s=0;s<t.target.files.length;s++){var o=t.target.files[s];n.append("image["+s+"]",o)}n.append("path","house"),n.append("key","id_proof"),this.loadingRoom=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",n,i).then((function(t){if(t.data.status)for(var e=0;e<t.data.url.length;e++)a.user.house_images.push(t.data.url[e])})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRoom=!1}))},onFileChangeParking:function(t){var e=this;t.preventDefault();for(var a=this,i=(t.target.getAttribute("data-id"),{headers:{"content-type":"multipart/form-data"}}),n=new FormData,s=0;s<t.target.files.length;s++){var o=t.target.files[s];n.append("image["+s+"]",o)}n.append("path","parking"),n.append("key","id_proof"),this.loadingRoom=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",n,i).then((function(t){if(t.data.status)for(var e=0;e<t.data.url.length;e++)a.user.parking_images.push(t.data.url[e])})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRoom=!1}))},saveProperty:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/property/create",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"AddNewRoom",params:{id:e.data.properties.id}})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},cn=ln,dn=(a("51db"),a("ba27"),Object(c["a"])(cn,Zi,tn,!1,null,null,null)),un=dn.exports,pn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("card",[t.loading?e("ajax-loader"):t._e(),e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Property\n          ")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Property Name",placeholder:"Property Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Property name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Door Number",placeholder:"Door Number"},model:{value:t.user.door_no,callback:function(e){t.$set(t.user,"door_no",e)},expression:"user.door_no"}}),t.isSubmitted&&t.$v.user.door_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.door_no.required?t._e():e("span",[t._v("Door no. field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Street",placeholder:"Street"},model:{value:t.user.street,callback:function(e){t.$set(t.user,"street",e)},expression:"user.street"}}),t.isSubmitted&&t.$v.user.street.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.street.required?t._e():e("span",[t._v("Street field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"area",placeholder:"area"},model:{value:t.user.area,callback:function(e){t.$set(t.user,"area",e)},expression:"user.area"}}),t.isSubmitted&&t.$v.user.area.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.area.required?t._e():e("span",[t._v("area field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"county",placeholder:"county"},model:{value:t.user.county,callback:function(e){t.$set(t.user,"county",e)},expression:"user.county"}}),t.isSubmitted&&t.$v.user.county.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.county.required?t._e():e("span",[t._v("county field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Post Code",placeholder:"Post Code"},model:{value:t.user.postcode,callback:function(e){t.$set(t.user,"postcode",e)},expression:"user.postcode"}}),t.isSubmitted&&t.$v.user.postcode.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.postcode.required?t._e():e("span",[t._v("Post Code field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[1==t.currentUser.role_id?e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.admin_id,expression:"user.admin_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"admin_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},t._l(t.admins,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.admin_id.required?t._e():e("span",[t._v("Admin field is required.")])]):t._e()]):t._e(),1==t.currentUser.role_id||2==t.currentUser.role_id?e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Manager")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.manager_id,expression:"user.manager_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"manager_id",e.target.multiple?a:a[0])}}},t._l(t.managers,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.manager_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.manager_id.required?t._e():e("span",[t._v("Landlord field is required.")])]):t._e()]):t._e(),e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Landlord")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.landlord_id,expression:"user.landlord_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"landlord_id",e.target.multiple?a:a[0])}}},t._l(t.ownerList,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.landlord_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.landlord_id.required?t._e():e("span",[t._v("Landlord field is required.")])]):t._e()]),e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Investor")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.investor_id,expression:"user.investor_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"investor_id",e.target.multiple?a:a[0])}}},t._l(t.investorList,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.investor_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.investor_id.required?t._e():e("span",[t._v("Investorfield is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v("Property Amenities")])]),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"text",readonly:"",label:"No. of Bedrooms",placeholder:"No. of Bedrooms"},model:{value:t.user.no_of_bedrooms,callback:function(e){t.$set(t.user,"no_of_bedrooms",e)},expression:"user.no_of_bedrooms"}}),t.isSubmitted&&t.$v.user.no_of_bedrooms.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_bedrooms.required?t._e():e("span",[t._v("Bed room field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"text",readonly:"",label:"No. of Livingroom",placeholder:"No. of Livingroom"},model:{value:t.user.no_of_living_areas,callback:function(e){t.$set(t.user,"no_of_living_areas",e)},expression:"user.no_of_living_areas"}}),t.isSubmitted&&t.$v.user.no_of_living_areas.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_living_areas.required?t._e():e("span",[t._v("Living room field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"text",readonly:"",label:"No. of Kitchen",placeholder:"No. of Kitchen"},model:{value:t.user.no_of_kitchens,callback:function(e){t.$set(t.user,"no_of_kitchens",e)},expression:"user.no_of_kitchens"}}),t.isSubmitted&&t.$v.user.no_of_kitchens.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_kitchens.required?t._e():e("span",[t._v("Kitchen field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{typep:"text",readonly:"",label:"No. of Bathrooms",placeholder:"No. of Bathrooms"},model:{value:t.user.no_of_bathrooms,callback:function(e){t.$set(t.user,"no_of_bathrooms",e)},expression:"user.no_of_bathrooms"}}),t.isSubmitted&&t.$v.user.no_of_bathrooms.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.no_of_bathrooms.required?t._e():e("span",[t._v("Bathroom field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Front garden")]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.front_garden,expression:"user.front_garden"}],attrs:{type:"radio",id:"yes"},domProps:{value:1,checked:t._q(t.user.front_garden,1)},on:{change:function(e){return t.$set(t.user,"front_garden",1)}}}),e("span",{staticClass:"form-check-sign"},[t._v("Yes")])])]),e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.front_garden,expression:"user.front_garden"}],attrs:{type:"radio",id:"no"},domProps:{value:0,checked:t._q(t.user.front_garden,0)},on:{change:function(e){return t.$set(t.user,"front_garden",0)}}}),e("span",{staticClass:"form-check-sign"},[t._v("No")])])])])]),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Back garden")]),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.rear_garden,expression:"user.rear_garden"}],attrs:{type:"radio",id:"back_yes"},domProps:{value:1,checked:t._q(t.user.rear_garden,1)},on:{change:function(e){return t.$set(t.user,"rear_garden",1)}}}),e("span",{staticClass:"form-check-sign"},[t._v("Yes")])])]),e("div",{staticClass:"form-check-radio"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.rear_garden,expression:"user.rear_garden"}],attrs:{type:"radio",id:"back_no"},domProps:{value:0,checked:t._q(t.user.rear_garden,0)},on:{change:function(e){return t.$set(t.user,"rear_garden",0)}}}),e("span",{staticClass:"form-check-sign"},[t._v("No")])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Rent to landlord",placeholder:"Rent to landlord"},model:{value:t.user.rent_to_landlord,callback:function(e){t.$set(t.user,"rent_to_landlord",e)},expression:"user.rent_to_landlord"}}),t.isSubmitted&&t.$v.user.rent_to_landlord.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_to_landlord.required?t._e():e("span",[t._v("Rent to landlord field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"Rent start date to landlord",placeholder:"Rent start date to landlord"},model:{value:t.user.rent_start_date_to_landlord,callback:function(e){t.$set(t.user,"rent_start_date_to_landlord",e)},expression:"user.rent_start_date_to_landlord"}}),t.isSubmitted&&t.$v.user.rent_start_date_to_landlord.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_start_date_to_landlord.required?t._e():e("span",[t._v("Rent start date to landlord field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Rent date to landlord")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.rent_date_to_landlord,expression:"user.rent_date_to_landlord"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"rent_date_to_landlord",e.target.multiple?a:a[0])}}},t._l(31,(function(a){return e("option",{key:a,domProps:{value:t.k=a}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.rent_date_to_landlord.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_date_to_landlord.required?t._e():e("span",[t._v("Rent date to landlord field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Rent to investor",placeholder:"Rent to investor"},model:{value:t.user.rent_to_investor,callback:function(e){t.$set(t.user,"rent_to_investor",e)},expression:"user.rent_to_investor"}}),t.isSubmitted&&t.$v.user.rent_to_investor.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_to_investor.required?t._e():e("span",[t._v("Rent to investor field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"Rent start date to investor",placeholder:"Rent start date to investor"},model:{value:t.user.rent_start_date_to_investor,callback:function(e){t.$set(t.user,"rent_start_date_to_investor",e)},expression:"user.rent_start_date_to_investor"}}),t.isSubmitted&&t.$v.user.rent_start_date_to_investor.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_start_date_to_investor.required?t._e():e("span",[t._v("Rent start date to investor field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Rent date to investor")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.rent_date_to_investor,expression:"user.rent_date_to_investor"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"rent_date_to_investor",e.target.multiple?a:a[0])}}},t._l(31,(function(a){return e("option",{key:a,domProps:{value:t.k=a}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.rent_date_to_investor.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_date_to_investor.required?t._e():e("span",[t._v("Rent date to investor field is required.")])]):t._e()])]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProperty.apply(null,arguments)}}},[t._v("\n                    Update\n                  ")])])]),e("div",{staticClass:"clearfix"})])],1)],1)])])])},mn=[],vn={components:{BaseCheckbox:E,AmenitiesImage:rn,BaseRadio:Y,BaseInput:O,AjaxLoader:Pe},data:function(){return{room_id:"",currentUser:"",admins:"",managers:"",showFrontGarden:!1,showBackGarden:!1,isSubmitted:!1,loading:!1,ownerList:"",investorList:"",user:{manager_id:"",admin_id:"",property_id:"",name:"",door_no:"",street:"",area:"",county:"",postcode:"",landlord_id:"",investor_id:"",no_of_bedrooms:0,no_of_living_areas:0,no_of_kitchens:0,no_of_bathrooms:0,front_garden:0,rear_garden:0,rent_to_landlord:"",rent_start_date_to_landlord:"",rent_date_to_landlord:"",rent_to_investor:"",rent_date_to_investor:""}}},validations:{user:{name:{required:ze["required"]},door_no:{required:ze["required"]},street:{required:ze["required"]},area:{required:ze["required"]},county:{required:ze["required"]},landlord_id:{required:ze["required"]},investor_id:{required:ze["required"]},no_of_bedrooms:{required:ze["required"]},no_of_living_areas:{required:ze["required"]},no_of_kitchens:{required:ze["required"]},no_of_bathrooms:{required:ze["required"]},front_garden:{required:ze["required"]},rear_garden:{required:ze["required"]},postcode:{required:ze["required"]},rent_to_landlord:{required:ze["required"]},rent_start_date_to_landlord:{required:ze["required"]},rent_date_to_landlord:{required:ze["required"]},rent_to_investor:{required:ze["required"]},rent_start_date_to_investor:{required:ze["required"]},rent_date_to_investor:{required:ze["required"]},admin_id:{required:ze["required"]},manager_id:{required:ze["required"]}}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this._getOwner(),this._getAdmin(),this.room_id=this.$route.params.id,this.getProperty(this.$route.params.id),2===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.id,this._getManager(this.currentUser.id)),3===this.currentUser.role_id&&(this.user.admin_id=this.currentUser.created_under_admin,this.user.manager_id=this.currentUser.id)},methods:{_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},onChange:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},getProperty:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/property/"+t+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.property&&(e._getManager(t.data.property.admin_id),e.user.property_id=t.data.property.id,e.user.admin_id=t.data.property.admin_id,e.user.manager_id=t.data.property.manager_id,e.user.area=t.data.property.area,e.user.county=t.data.property.county,e.user.door_no=t.data.property.door_no,e.user.front_garden=t.data.property.front_garden,e.user.investor_id=t.data.property.investor_id,e.user.landlord_id=t.data.property.landlord_id,e.user.name=t.data.property.name,e.user.no_of_bathrooms=t.data.property.no_of_bathrooms,e.user.no_of_bedrooms=t.data.property.no_of_bedrooms,e.user.no_of_kitchens=t.data.property.no_of_kitchens,e.user.no_of_living_areas=t.data.property.no_of_living_areas,e.user.postcode=t.data.property.postcode,e.user.rear_garden=t.data.property.rear_garden,e.user.rent_date_to_investor=t.data.property.rent_date_to_investor,e.user.rent_date_to_landlord=t.data.property.rent_date_to_landlord,e.user.rent_start_date_to_investor=t.data.property.rent_start_date_to_investor,e.user.rent_start_date_to_landlord=t.data.property.rent_start_date_to_landlord,e.user.rent_to_investor=t.data.property.rent_to_investor,e.user.rent_to_landlord=t.data.property.rent_to_landlord,e.user.street=t.data.property.street),e.loading=!1})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},_getManager:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getOwner:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/owners",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.owners&&(t.ownerList=e.data.owners,t.investorList=e.data.investor),t.loading=!1})).catch((function(e){console.log(e),t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},saveProperty:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/property/update",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"EditNewRoom",params:{id:t.user.property_id}})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},fn=vn,_n=(a("29b1"),Object(c["a"])(fn,pn,mn,!1,null,null,null)),gn=_n.exports,hn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[t.loading?t._e():e("div",{staticClass:"row"},[t.loading?e("ajax-loader"):t._e(),e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add Property Amenities")]),e("form",[e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"mx-auto col-md-12"},[e("h5",[t._v("No. Bed Rooms")]),t._l(t.propertyDetails.no_of_bedrooms,(function(a,i){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Room identifier",placeholder:"Room identifier"},model:{value:t.form.room_name[i],callback:function(e){t.$set(t.form.room_name,i,e)},expression:"form.room_name[i]"}})],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Bed Room Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChange}}),t.form.room_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.room_name_image[i],(function(a,n){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.room_name_image[i][n]}})])})),0)]),t.loadingRoom?e("ajax-loader"):t._e()],1)])}))],2),e("hr"),e("div",{staticClass:"mx-auto col-md-12"},[t.loadingLiving?e("ajax-loader"):t._e(),e("h5",[t._v("No. Living Rooms")]),t._l(t.propertyDetails.no_of_living_areas,(function(a,i){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Living identifier",placeholder:"Living identifier"},model:{value:t.form.living_name[i],callback:function(e){t.$set(t.form.living_name,i,e)},expression:"form.living_name[i]"}})],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Living Room Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChangeLiving}}),t.form.living_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.living_name_image[i],(function(a,n){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.living_name_image[i][n]}})])})),0)])])])}))],2),e("hr"),e("div",{staticClass:"mx-auto col-md-12"},[t.loadingKitchen?e("ajax-loader"):t._e(),e("h5",[t._v("No. Kitchen")]),t._l(t.propertyDetails.no_of_kitchens,(function(a,i){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Kitchen identifier",placeholder:"Kitchen identifier"},model:{value:t.form.kitchen_name[i],callback:function(e){t.$set(t.form.kitchen_name,i,e)},expression:"form.kitchen_name[k]"}})],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Kitchen  Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChangeKitchen}}),t.form.kitchen_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.kitchen_name_image[i],(function(a,n){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.kitchen_name_image[i][n]}})])})),0)])])])}))],2),e("hr"),e("div",{staticClass:"mx-auto col-md-12"},[t.loadingBathroom?e("ajax-loader"):t._e(),e("h5",[t._v("No. Bathroom")]),t._l(t.propertyDetails.no_of_bathrooms,(function(a,i){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Bathroom identifier",placeholder:"Bathroom identifier"},model:{value:t.form.bathroom_name[i],callback:function(e){t.$set(t.form.bathroom_name,i,e)},expression:"form.bathroom_name[b]"}})],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Bathroom Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChangeBath}}),t.form.bathroom_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.bathroom_name_image[i],(function(a,n){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.bathroom_name_image[i][n]}})])})),0)])])])}))],2),e("hr"),t.propertyDetails.front_garden?e("div",{staticClass:"col-md-6"},[e("label",[t._v("front garden Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChangeFront}}),t.form.front_image?t._e():e("p",[t._v("\n                            Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                          ")]),e("div",{staticClass:"row"},t._l(t.form.front_image,(function(a,i){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.front_image[i]}})])})),0)]),t.loadingFront?e("ajax-loader"):t._e()],1):t._e(),t.propertyDetails.rear_garden?e("div",{staticClass:"col-md-6"},[e("label",[t._v("rear garden Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChangeRear}}),t.form.rear_image?t._e():e("p",[t._v("\n                            Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                          ")]),e("div",{staticClass:"row"},t._l(t.form.rear_image,(function(a,i){return e("div",{key:a,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.rear_image[i]}})])})),0)]),t.loadingRear?e("ajax-loader"):t._e()],1):t._e()])]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProperty.apply(null,arguments)}}},[t._v("\n                    Save\n                  ")])])]),e("div",{staticClass:"clearfix"})])])],1)],1)])])},bn=[],yn={components:{Card:ot,BaseCheckbox:E,AmenitiesImage:rn,BaseRadio:Y,BaseInput:O,AjaxLoader:Pe},data:function(){return{loadingFront:!1,loadingRear:!1,loadingRoom:!1,loadingLiving:!1,loadingKitchen:!1,loadingBathroom:!1,isInitial:!1,imagePath:"",fileName:[],showFrontGarden:!1,showBackGarden:!1,isSubmitted:!1,loading:!1,propertyDetails:[],url:[],l_url:[],k_url:[],b_url:[],front_url:[],rear_url:[],form:{room_name:[],room_name_image:[],living_name:[],living_name_image:[],kitchen_name:[],kitchen_name_image:[],bathroom_name:[],bathroom_name_image:[],front_image:[],rear_image:[]}}},validations:{},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.getProperty(this.$route.params.id),this.form.property_id=this.$route.params.id},methods:{onFileChange:function(t){var e=this;t.preventDefault();for(var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData,o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","room"),s.append("key","id_proof"),a.form.room_name_image[i]){a.url=[];for(var l=0;l<a.form.room_name_image[i].length;l++)a.url.push(a.form.room_name_image[i][l])}else a.url=[];this.loadingRoom=!0;zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){for(var e=0;e<t.data.url.length;e++)a.url.push(t.data.url[e]);a.form.room_name_image[i]=a.url}})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRoom=!1}))},onFileChangeLiving:function(t){var e=this;t.preventDefault();var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData;this.fileName=t.target.files[0].name;for(var o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","living"),s.append("key","id_proof"),a.form.living_name_image[i]){a.l_url=[];for(var l=0;l<a.form.living_name_image[i].length;l++)a.l_url.push(a.form.living_name_image[i][l])}else a.l_url=[];this.loadingLiving=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){console.log(t.data.url.length);for(var e=0;e<t.data.url.length;e++)a.l_url.push(t.data.url[e]);a.form.living_name_image[i]=a.l_url}})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingLiving=!1}))},onFileChangeKitchen:function(t){var e=this;t.preventDefault();var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData;this.fileName=t.target.files[0].name;for(var o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","kitchen"),s.append("key","id_proof"),a.form.kitchen_name_image[i]){a.k_url=[];for(var l=0;l<a.form.kitchen_name_image[i].length;l++)a.k_url.push(a.form.kitchen_name_image[i][l])}else a.k_url=[];this.loadingKitchen=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.k_url.push(t.data.url[e]);a.form.kitchen_name_image[i]=a.k_url,console.log(a.form.kitchen_name_image)}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingKitchen=!1}))},onFileChangeBath:function(t){var e=this;t.preventDefault();var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData;this.fileName=t.target.files[0].name;for(var o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","bathroom"),s.append("key","id_proof"),a.form.bathroom_name_image[i]){a.b_url=[];for(var l=0;l<a.form.bathroom_name_image[i].length;l++)a.b_url.push(a.form.bathroom_name_image[i][l])}else a.b_url=[];this.loadingBathroom=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.b_url.push(t.data.url[e]);a.form.bathroom_name_image[i]=a.b_url}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingBathroom=!1}))},onFileChangeFront:function(t){var e=this;this.loadingFront=!0,t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name;for(var s=0;s<t.target.files.length;s++){var o=t.target.files[s];n.append("image["+s+"]",o)}if(n.append("path","garden"),n.append("key","id_proof"),a.form.front_image[0]){a.front_url[0]=[];for(var r=0;r<a.form.front_image[0].length;r++)a.front_url.push(a.form.front_image[0][r])}else a.front_url=[];zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",n,i).then((function(t){if(a.loadingFront=!1,t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.front_url.push(t.data.url[e]);a.form.front_image[0]=a.front_url}})).catch((function(t){a.loadingFront=!1,e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){a.loadingFront=!1}))},onFileChangeRear:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name;for(var s=0;s<t.target.files.length;s++){var o=t.target.files[s];n.append("image["+s+"]",o)}if(n.append("path","garden"),n.append("key","id_proof"),this.loadingRear=!0,a.form.rear_image[0]){a.rear_url=[];for(var r=0;r<a.form.rear_image[0].length;r++)a.rear_url.push(a.form.rear_image[0][r])}else a.rear_url=[];zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",n,i).then((function(t){if(t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.rear_url.push(t.data.url[e]);a.form.rear_image[0]=a.rear_url}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRear=!1}))},getProperty:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/property/"+t+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.property&&(e.propertyDetails=t.data.property),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},saveProperty:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,this.propertyDetails.rear_garden&&(this.form.rear=["Rear garden"]),this.propertyDetails.front_garden&&(this.form.front=["Front garden"]),zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/property/images",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"PropertyList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){if(422==e.response.status){var a=e.response.data.errors,i="Something went wrong";a.bathroom_name&&(i=a.bathroom_name[0]),a.front_image&&(i=a.front_image[0]),a.kitchen_name&&(i=a.kitchen_name[0]),a.living_name&&(i=a.living_name[0]),a.rear_image&&(i=a.rear_image[0]),a.front_image&&(i=a.front_image[0]),t.$notifications.notify({message:"<span>"+i+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}else t.$notifications.notify({message:"<span>"+text+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"});t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Cn=yn,kn=(a("816e"),a("a1a7"),Object(c["a"])(Cn,hn,bn,!1,null,null,null)),$n=kn.exports,wn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Property Amenities\n            "),e("router-link",{staticClass:"card-title pull-right text-primary",attrs:{to:{path:"/admin/add-more-room/"+t.form.property_id}}},[t._v("Add more Amenities")])],1),t.loading?e("ajax-loader"):t._e(),t.loadImage?e("form",[e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"mx-auto col-md-12"},[e("h5",[t._v("No. Bed Rooms")]),t._l(t.propertyDetails.no_of_bedrooms,(function(a,i){return e("div",{key:i,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Room identifier",placeholder:"Room identifier"},model:{value:t.form.room_name[i],callback:function(e){t.$set(t.form.room_name,i,e)},expression:"form.room_name[i]"}}),t.room_id[i]?e("span",{on:{click:function(e){return t.deleteImage(t.room_id[i])}}},[t._v("Delete")]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Bed Room Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChange}}),t.form.room_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.room_name_image[i],(function(a,n){return e("div",{key:n+i+1,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.room_name_image[i][n]}})])})),0)]),t.loadingRoom?e("ajax-loader"):t._e()],1)])}))],2),e("hr"),e("div",{staticClass:"mx-auto col-md-12"},[t.loadingLiving?e("ajax-loader"):t._e(),e("h5",[t._v("No. Living Rooms")]),t._l(t.propertyDetails.no_of_living_areas,(function(a,i){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Living identifier",placeholder:"Living identifier"},model:{value:t.form.living_name[i],callback:function(e){t.$set(t.form.living_name,i,e)},expression:"form.living_name[i]"}}),t.living_id[i]?e("span",{on:{click:function(e){return t.deleteImage(t.living_id[i])}}},[t._v("Delete")]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Living Room Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChangeLiving}}),t.form.living_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.living_name_image[i],(function(a,n){return e("div",{key:n,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.living_name_image[i][n]}})])})),0)])])])}))],2),e("hr"),e("div",{staticClass:"mx-auto col-md-12"},[t.loadingKitchen?e("ajax-loader"):t._e(),e("h5",[t._v("No. Kitchen")]),t._l(t.propertyDetails.no_of_kitchens,(function(a,i){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Kitchen identifier",placeholder:"Kitchen identifier"},model:{value:t.form.kitchen_name[i],callback:function(e){t.$set(t.form.kitchen_name,i,e)},expression:"form.kitchen_name[k]"}}),t.kitchen_id[i]?e("span",{on:{click:function(e){return t.deleteImage(t.kitchen_id[t.isKeyObject])}}},[t._v("Delete")]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Kitchen  Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChangeKitchen}}),t.form.kitchen_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.kitchen_name_image[i],(function(a,n){return e("div",{key:n,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.kitchen_name_image[i][n]}})])})),0)])])])}))],2),e("hr"),e("div",{staticClass:"mx-auto col-md-12"},[t.loadingBathroom?e("ajax-loader"):t._e(),e("h5",[t._v("No. Bathroom")]),t._l(t.propertyDetails.no_of_bathrooms,(function(a,i){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Bathroom identifier",placeholder:"Bathroom identifier"},model:{value:t.form.bathroom_name[i],callback:function(e){t.$set(t.form.bathroom_name,i,e)},expression:"form.bathroom_name[b]"}}),t.bathroom_id[i]?e("span",{on:{click:function(e){return t.deleteImage(t.bathroom_id[i])}}},[t._v("Delete")]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Bathroom Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":i},on:{change:t.onFileChangeBath}}),t.form.bathroom_name_image[i]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.bathroom_name_image[i],(function(a,n){return e("div",{key:n,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.bathroom_name_image[i][n]}})])})),0)])])])}))],2),e("hr"),t.propertyDetails.front_garden?e("div",{staticClass:"col-md-6"},[e("label",[t._v("front garden Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChangeFront}}),t.form.front_image?t._e():e("p",[t._v("\n                            Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                          ")]),e("div",{staticClass:"row"},t._l(t.front_url,(function(a,i){return e("div",{key:i,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.front_url[i]}})])})),0)]),t.loadingFront?e("ajax-loader"):t._e()],1):t._e(),t.propertyDetails.rear_garden?e("div",{staticClass:"col-md-6"},[e("label",[t._v("rear garden Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChangeRear}}),t.form.rear_image?t._e():e("p",[t._v("\n                            Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                          ")]),e("div",{staticClass:"row"},t._l(t.rear_url,(function(a,i){return e("div",{key:i,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.rear_url[i]}})])})),0)]),t.loadingRear?e("ajax-loader"):t._e()],1):t._e()])]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProperty.apply(null,arguments)}}},[t._v("\n                    Save\n                  ")])])]),e("div",{staticClass:"clearfix"})]):t._e()],1)],1)])])])},An=[],Sn={components:{Card:ot,BaseCheckbox:E,AmenitiesImage:rn,BaseRadio:Y,BaseInput:O,AjaxLoader:Pe},data:function(){return{loadImage:!1,loadingFront:!1,loadingRear:!1,loadingRoom:!1,loadingLiving:!1,loadingKitchen:!1,loadingBathroom:!1,isInitial:!1,imagePath:"",fileName:[],showFrontGarden:!1,showBackGarden:!1,isSubmitted:!1,loading:!1,propertyDetails:[],url:[],l_url:[],k_url:[],b_url:[],front_url:[],rear_url:[],room_id:[],living_id:[],kitchen_id:[],bathroom_id:[],form:{room_name:[],room_name_image:[],living_name:[],living_name_image:[],kitchen_name:[],kitchen_name_image:[],bathroom_name:[],bathroom_name_image:[],front_image:[],rear_image:[]}}},validations:{},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.getProperty(this.$route.params.id),this.getPropertyImage(this.$route.params.id),this.form.property_id=this.$route.params.id},methods:{onFileChange:function(t){var e=this;t.preventDefault();for(var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData,o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","room"),s.append("key","id_proof"),a.form.room_name_image[i]){a.url=[];for(var l=0;l<a.form.room_name_image[i].length;l++)a.url.push(a.form.room_name_image[i][l])}else a.url=[];this.loadingRoom=!0;zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){for(var e=0;e<t.data.url.length;e++)a.url.push(t.data.url[e]);a.form.room_name_image[i]=a.url}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRoom=!1}))},onFileChangeLiving:function(t){var e=this;t.preventDefault();var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData;this.fileName=t.target.files[0].name;for(var o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","living"),s.append("key","id_proof"),a.form.living_name_image[i]){a.l_url=[];for(var l=0;l<a.form.living_name_image[i].length;l++)a.l_url.push(a.form.living_name_image[i][l])}else a.l_url=[];this.loadingLiving=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){for(var e=0;e<t.data.url.length;e++)a.l_url.push(t.data.url[e]);a.form.living_name_image[i]=a.l_url}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingLiving=!1}))},onFileChangeKitchen:function(t){var e=this;t.preventDefault();var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData;this.fileName=t.target.files[0].name;for(var o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","kitchen"),s.append("key","id_proof"),a.form.kitchen_name_image[i]){a.k_url=[];for(var l=0;l<a.form.kitchen_name_image[i].length;l++)a.k_url.push(a.form.kitchen_name_image[i][l])}else a.k_url=[];this.loadingKitchen=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.k_url.push(t.data.url[e]);a.form.kitchen_name_image[i]=a.k_url}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingKitchen=!1}))},onFileChangeBath:function(t){var e=this;t.preventDefault();var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData;this.fileName=t.target.files[0].name;for(var o=0;o<t.target.files.length;o++){var r=t.target.files[o];s.append("image["+o+"]",r)}if(s.append("path","bathroom"),s.append("key","id_proof"),a.form.bathroom_name_image[i]){a.b_url=[];for(var l=0;l<a.form.bathroom_name_image[i].length;l++)a.b_url.push(a.form.bathroom_name_image[i][l])}else a.b_url=[];this.loadingBathroom=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.b_url.push(t.data.url[e]);a.form.bathroom_name_image[i]=a.b_url}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingBathroom=!1}))},onFileChangeFront:function(t){var e=this;this.loadingFront=!0,t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name;for(var s=0;s<t.target.files.length;s++){var o=t.target.files[s];n.append("image["+s+"]",o)}if(n.append("path","garden"),n.append("key","id_proof"),a.form.front_image[0].length>0){a.front_url[0]=[];for(var r=0;r<a.form.front_image[0].length;r++)a.front_url.push(a.form.front_image[0][r])}else a.front_url=[];zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",n,i).then((function(t){if(a.loadingFront=!1,t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.front_url.push(t.data.url[e]);a.form.front_image[0]=a.front_url}})).catch((function(t){a.loadingFront=!1,e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){a.loadingFront=!1}))},onFileChangeRear:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name;for(var s=0;s<t.target.files.length;s++){var o=t.target.files[s];n.append("image["+s+"]",o)}if(n.append("path","garden"),n.append("key","id_proof"),this.loadingRear=!0,a.form.rear_image[0]){a.rear_url=[];for(var r=0;r<a.form.rear_image[0].length;r++)a.rear_url.push(a.form.rear_image[0][r])}else a.rear_url=[];zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",n,i).then((function(t){if(t.data.status){a.isInitial=!0;for(var e=0;e<t.data.url.length;e++)a.rear_url.push(t.data.url[e]);a.form.rear_image[0]=a.rear_url}})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRear=!1}))},getPropertyImage:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/property-images/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){if(200==a.status&&0!=a.data.propertiesImages.length){if(a.data.propertiesImages[1])for(var i=0;i<a.data.propertiesImages[1].length;i++){e.room_id[i]=a.data.propertiesImages[1][i].id,e.form.room_name[i]=a.data.propertiesImages[1][i].name;var n=a.data.propertiesImages[1][i].images;e.url=[];for(var s=0;s<n.length;s++)e.url.push(n[s].name);e.form.room_name_image[i]=e.url}if(a.data.propertiesImages[2])for(var o=0;o<a.data.propertiesImages[2].length;o++){e.living_id[o]=a.data.propertiesImages[2][o].id,e.form.living_name[o]=a.data.propertiesImages[2][o].name;var r=a.data.propertiesImages[2][o].images;e.l_url=[];for(var l=0;l<r.length;l++)e.l_url.push(r[l].name);e.form.living_name_image[o]=e.l_url}if(a.data.propertiesImages[3])for(var c=0;c<a.data.propertiesImages[3].length;c++){e.kitchen_id[c]=a.data.propertiesImages[3][c].id,e.form.kitchen_name[c]=a.data.propertiesImages[3][c].name;var d=a.data.propertiesImages[3][c].images;e.k_url=[];for(var u=0;u<d.length;u++)e.k_url.push(d[u].name);e.form.kitchen_name_image[c]=e.k_url}if(a.data.propertiesImages[4])for(var p=0;p<a.data.propertiesImages[4].length;p++){e.bathroom_id[p]=a.data.propertiesImages[4][p].id,e.form.bathroom_name[p]=a.data.propertiesImages[4][p].name;var m=a.data.propertiesImages[4][p].images;e.b_url=[];for(var v=0;v<m.length;v++)e.b_url.push(m[v].name);e.form.bathroom_name_image[p]=e.b_url}if(a.data.propertiesImages[5])for(var f=0;f<a.data.propertiesImages[5].length;f++){var _=a.data.propertiesImages[5][f].images;e.front_url=[];for(var g=0;g<_.length;g++)e.front_url.push(_[g].name);e.form.front_image[f]=e.front_url}if(a.data.propertiesImages[6])for(var h=0;h<a.data.propertiesImages[6].length;h++){var b=a.data.propertiesImages[6][h].images;e.rear_url=[];for(var y=0;y<b.length;y++)e.rear_url.push(b[y].name);e.form.rear_image[h]=e.rear_url}e.loadImage=!0}else e.$router.push({name:"AddNewRoom",params:{id:t}});e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},getProperty:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/property/"+t+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.property&&(e.propertyDetails=t.data.property),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},saveProperty:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,this.propertyDetails.rear_garden&&(this.form.rear=["Rear garden"]),this.propertyDetails.front_garden&&(this.form.front=["Front garden"]),zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/update-property-image",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"PropertyList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){if(422==e.response.status){var a=e.response.data.errors,i="Something went wrong";a.bathroom_name&&(i=a.bathroom_name[0]),a.front_image&&(i=a.front_image[0]),a.kitchen_name&&(i=a.kitchen_name[0]),a.living_name&&(i=a.living_name[0]),a.rear_image&&(i=a.rear_image[0]),a.front_image&&(i=a.front_image[0]),t.$notifications.notify({message:"<span>"+i+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}else t.$notifications.notify({message:"<span>"+text+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"});t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))},deleteImage:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/delete-property-room/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.status&&e.$router.go(e.$router.currentRoute)})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loading=!0}))}}},qn=Sn,xn=(a("9339"),a("93ac"),Object(c["a"])(qn,wn,An,!1,null,null,null)),jn=xn.exports,Pn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add More Amenities")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Select Amenities type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"type",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Room")]),e("option",{attrs:{value:"2"}},[t._v("Living area")]),e("option",{attrs:{value:"3"}},[t._v("Kitchen area")]),e("option",{attrs:{value:"4"}},[t._v("Bathroom")])]),t.isSubmitted&&t.$v.form.type.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.type.required?t._e():e("span",[t._v("Amenities type field is required.")])]):t._e()]),e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"number",label:"Enter Number of entity",placeholder:"Enter Number of entity",maxlength:"10"},on:{input:t.getLength},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}}),t.isSubmitted&&t.$v.form.count.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.count.required?t._e():e("span",[t._v("Amenities number field is required.")])]):t._e()],1)]),0!=t.no_of_bedrooms&&t.no_of_bedrooms?e("div",{staticClass:"row"},[e("div",{staticClass:"mx-auto col-md-12"},t._l(t.no_of_bedrooms,(function(a){return e("div",{key:a,staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"identifier name",placeholder:"identifier name"},model:{value:t.form.name[a],callback:function(e){t.$set(t.form.name,a,e)},expression:"form.name[index]"}})],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("identifier Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:"","data-id":a},on:{change:t.onFileChange}}),t.form.images[a]?t._e():e("p",[t._v("\n                                Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                              ")]),e("div",{staticClass:"row"},t._l(t.form.images[a],(function(i,n){return e("div",{key:i,staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.images[a][n]}})])})),0)]),t.loadingRoom?e("ajax-loader"):t._e()],1)])})),0)]):t._e(),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-secondry float-left",on:{click:function(e){return e.preventDefault(),t.back.apply(null,arguments)}}},[t._v("\n                  Back\n                ")]),e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Save\n                ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},zn=[],Dn={components:{LTable:aa,Card:ot,BaseInput:O,AjaxLoader:Pe},data:function(){return{loadingRoom:!1,no_of_bedrooms:0,isSubmitted:!1,tableData:[],url:[],imagePath:"",loading:!1,form:{property_id:"",count:"",type:"",name:[],images:[]}}},validations:{form:{type:{required:ze["required"]},count:{required:ze["required"]}}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.form.property_id=this.$route.params.id},methods:{getLength:function(){this.no_of_bedrooms=parseInt(this.form.count)},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i=t.target.getAttribute("data-id"),n={headers:{"content-type":"multipart/form-data"}},s=new FormData,o="room";1==this.form.type?o="room":2==this.form.type?o="living":3==this.form.type?o="kitchen":4==this.form.type&&(o="bathroom");for(var r=0;r<t.target.files.length;r++){var l=t.target.files[r];s.append("image["+r+"]",l)}if(s.append("path",o),s.append("key","id_proof"),a.form.images[i]){a.url=[];for(var c=0;c<a.form.images[i].length;c++)a.url.push(a.form.images[i][c])}else a.url=[];this.loadingRoom=!0;zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_multiple_image",s,n).then((function(t){if(t.data.status){for(var e=0;e<t.data.url.length;e++)a.url.push(t.data.url[e]);a.form.images[i]=a.url}})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRoom=!1}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/add-property-room",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>Amenities updated successfully.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.back()):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))},back:function(){this.$router.back()}}},In=Dn,Nn=Object(c["a"])(In,Pn,zn,!1,null,null,null),Tn=Nn.exports,On=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("Tenants List")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/new-tenant"}},[t._v("Add New")])],1)]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.no")]),e("th",[t._v("Name")]),e("th",[t._v("Propert Name")]),e("th",[t._v("Rent Amount")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.tanent_details.property.name))]),e("td",[t._v(t._s(a.tanent_details.rent_amount))]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/add-cash/"+a.id+"/tenant"}}},[t._v("Add Cash")]),e("router-link",{staticClass:"btn btn-info p-2 ml-2",attrs:{to:{path:"/admin/edit-tenant/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return t.deleteProfile(a.id,i)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),0)])])])],1)])])])},Bn=[],Ln={components:{LTable:aa,Card:ot},data:function(){return{tableData:[]}},mounted:function(){this._getTenants()},methods:{_getTenants:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/tanent-list",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.tanents&&(t.tableData=e.data.tanents),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},deleteProfile:function(t,e){var a=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/tanent/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),a.tableData.splice(e,1)})).catch((function(t){a.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},Rn=Ln,Un=Object(c["a"])(Rn,On,Bn,!1,null,null,null),Fn=Un.exports,En=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add New Tenant")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",label:"Email",placeholder:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.isSubmitted&&t.$v.user.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.user.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone",placeholder:"Phone"},model:{value:t.user.phone_no,callback:function(e){t.$set(t.user,"phone_no",e)},expression:"user.phone_no"}}),t.isSubmitted&&t.$v.user.phone_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.phone_no.required?t._e():e("span",[t._v("Phone field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{class:t.class_a},[e("label",[t._v("Select Property")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.property_id,expression:"user.property_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"property_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},t._l(t.tableData,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.property_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.property_id.required?t._e():e("span",[t._v("Select property first.")])]):t._e()]),e("div",{class:t.class_a},[e("label",[t._v("Select Property Room")]),t.roomData.length>0?e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.room_id,expression:"user.room_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"room_id",e.target.multiple?a:a[0])}}},t._l(t.roomData,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]):t._e(),t.roomData.length<=0?e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.room_id,expression:"user.room_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"room_id",e.target.multiple?a:a[0])}}})]):t._e(),t.isSubmitted&&t.$v.user.room_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.room_id.required?t._e():e("span",[t._v("Select property room.")])]):t._e()]),e("div",{class:t.class_a},[e("label",[t._v("Tanency Period")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.tanency_period,expression:"user.tanency_period"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"tanency_period",e.target.multiple?a:a[0])},t.onTypeChange]}},[e("option",{attrs:{value:"1"}},[t._v("6 Months")]),e("option",{attrs:{value:"2"}},[t._v("1 Year")]),e("option",{attrs:{value:"3"}},[t._v("Other")])]),t.isSubmitted&&t.$v.user.tanency_period.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.tanency_period.required?t._e():e("span",[t._v("Select tanency period.")])]):t._e()]),3==t.user.tanency_period?e("div",{class:t.class_a},[e("base-input",{attrs:{type:"text",label:"Other Tanency period",placeholder:"Other Tanency period"},model:{value:t.user.tanency_other,callback:function(e){t.$set(t.user,"tanency_other",e)},expression:"user.tanency_other"}})],1):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"deposite amount",placeholder:"deposite amount"},model:{value:t.user.deposite_amount,callback:function(e){t.$set(t.user,"deposite_amount",e)},expression:"user.deposite_amount"}}),t.isSubmitted&&t.$v.user.deposite_amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.deposite_amount.required?t._e():e("span",[t._v("Enter deposite amount.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"deposite date",placeholder:"deposite date"},model:{value:t.user.deposite_date,callback:function(e){t.$set(t.user,"deposite_date",e)},expression:"user.deposite_date"}}),t.isSubmitted&&t.$v.user.deposite_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.deposite_date.required?t._e():e("span",[t._v("Pick deposite date.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Frequency")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.frequency,expression:"user.frequency"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"frequency",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Monthly")]),e("option",{attrs:{value:"2"}},[t._v("Weekly")])]),t.isSubmitted&&t.$v.user.frequency.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.frequency.required?t._e():e("span",[t._v("Select frequency period.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("rent date")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.rent_date,expression:"user.rent_date"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"rent_date",e.target.multiple?a:a[0])}}},t._l(31,(function(a){return e("option",{key:a,domProps:{value:t.k=a}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.rent_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_date.required?t._e():e("span",[t._v("Select rent date.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"rent amount",placeholder:"rent amount"},model:{value:t.user.rent_amount,callback:function(e){t.$set(t.user,"rent_amount",e)},expression:"user.rent_amount"}}),t.isSubmitted&&t.$v.user.rent_amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_amount.required?t._e():e("span",[t._v("Enter rent amount.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"tanency start date",placeholder:"tanency start date"},model:{value:t.user.tanency_start_date,callback:function(e){t.$set(t.user,"tanency_start_date",e)},expression:"user.tanency_start_date"}}),t.isSubmitted&&t.$v.user.tanency_start_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.tanency_start_date.required?t._e():e("span",[t._v("Pick tanency start date.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"tanency end date",placeholder:"tanency end date"},model:{value:t.user.tanency_end_date,callback:function(e){t.$set(t.user,"tanency_end_date",e)},expression:"user.tanency_end_date"}}),t.isSubmitted&&t.$v.user.tanency_end_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.tanency_end_date.required?t._e():e("span",[t._v("Pick tanency end date.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"full final settlement",placeholder:"full final settlement"},model:{value:t.user.full_final_settlement,callback:function(e){t.$set(t.user,"full_final_settlement",e)},expression:"user.full_final_settlement"}})],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"reference",placeholder:"reference"},model:{value:t.user.reference,callback:function(e){t.$set(t.user,"reference",e)},expression:"user.reference"}}),t.isSubmitted&&t.$v.user.reference.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.reference.required?t._e():e("span",[t._v("reference field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select tenant Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.admin_id,expression:"user.admin_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"admin_id",e.target.multiple?a:a[0])},function(e){return t.onChangeAdmin(e)}]}},t._l(t.admins,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.admin_id.required?t._e():e("span",[t._v("Select admin from list.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select tenant Manager")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.manager_id,expression:"user.manager_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"manager_id",e.target.multiple?a:a[0])}}},t._l(t.managers,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.manager_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.manager_id.required?t._e():e("span",[t._v("Select manager from list.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v("Remarks")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.remarks,expression:"user.remarks"}],staticClass:"form-control",domProps:{value:t.user.remarks},on:{input:function(e){e.target.composing||t.$set(t.user,"remarks",e.target.value)}}}),t.isSubmitted&&t.$v.user.remarks.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.remarks.required?t._e():e("span",[t._v("Enter remarks.")])]):t._e()])]),e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Identity Proof Documents")]),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",disabled:t.isInitial},on:{change:t.onFileChange}}),t.isInitial?t._e():e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]),t.isInitial?e("p",[t._v("\n                        Uploading "+t._s(t.fileName)+"...\n                      ")]):t._e()]),t.isSubmitted&&t.$v.user.id_proof.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.id_proof.required?t._e():e("span",[t._v("Uplaod image.")])]):t._e()]),t.user.id_proof?e("div",{staticClass:"col-md-6 image"},[e("img",{attrs:{src:this.path+t.user.id_proof}})]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"text-center mt-4"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                    Save\n                  ")]),t.loading?e("ajax-loader"):t._e()],1)])]),e("div",{staticClass:"clearfix"})])])],1)])])])},Mn=[],Hn={components:{Card:ot,BaseInput:O,AjaxLoader:Pe},data:function(){var t;return{class_a:"col-md-4",tableData:[],roomData:[],managers:"",admins:"",loading:!1,isInitial:!1,currentuser:"",fileName:"",user:(t={reference:"",name:"",email:"",phone_no:"",property_id:"",room_id:"",tanency_period:"",deposite_amount:"",deposite_date:"",rent_amount:"",frequency:"",rent_date:"",tanency_start_date:"",tanency_end_date:"",full_final_settlement:"",remarks:"",id_proof:"",role_id:"4"},Object(P["a"])(t,"remarks",""),Object(P["a"])(t,"manager_id",""),Object(P["a"])(t,"admin_id",""),Object(P["a"])(t,"tanency_other",""),t),isSubmitted:!1,path:""}},validations:{user:{reference:{required:ze["required"]},name:{required:ze["required"]},email:{required:ze["required"],email:ze["email"]},phone_no:{required:ze["required"]},property_id:{required:ze["required"]},room_id:{required:ze["required"]},tanency_period:{required:ze["required"]},deposite_amount:{required:ze["required"]},deposite_date:{required:ze["required"]},rent_amount:{required:ze["required"]},frequency:{required:ze["required"]},rent_date:{required:ze["required"]},tanency_start_date:{required:ze["required"]},tanency_end_date:{required:ze["required"]},id_proof:{required:ze["required"]},remarks:{required:ze["required"]},manager_id:{required:ze["required"]},admin_id:{required:ze["required"]}}},mounted:function(){this.path="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this._getProperties(),this.currentuser=JSON.parse(localStorage.getItem("user")),this._getManager(this.currentuser.id),this._getAdmin()},methods:{onTypeChange:function(t){3==t.target.value?this.class_a="col-md-3":(this.class_a="col-md-4",this.user.tanency_other="")},_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getManager:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.managers&&(e.managers=t.data.managers),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},onChangeAdmin:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getProperties:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/properties",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.properties&&(t.tableData=e.data.properties),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},onChange:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/roomlist/"+t.target.value,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),200==t.status&&t.data.data&&(e.roomData=t.data.data),e.loading=!1})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name,n.append("image",t.target.files[0]),n.append("path","owner"),n.append("key","id_proof"),this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.isInitial=!0,a.user.id_proof=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loading=!1}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/add-tanent",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"TenantsList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){console.log(e),401==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.errors+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Jn=Hn,Kn=(a("0ed4"),Object(c["a"])(Jn,En,Mn,!1,null,null,null)),Vn=Kn.exports,Yn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Tenant")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",readonly:"",label:"Email",placeholder:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.isSubmitted&&t.$v.user.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.user.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone",placeholder:"Phone"},model:{value:t.user.phone_no,callback:function(e){t.$set(t.user,"phone_no",e)},expression:"user.phone_no"}}),t.isSubmitted&&t.$v.user.phone_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.phone_no.required?t._e():e("span",[t._v("Phone field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{class:t.class_a},[e("label",[t._v("Select Property")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.property_id,expression:"user.property_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"property_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},t._l(t.tableData,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.property_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.property_id.required?t._e():e("span",[t._v("Select property first.")])]):t._e()]),e("div",{class:t.class_a},[e("label",[t._v("Select Property Room")]),t.roomData.length>0?e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.room_id,expression:"user.room_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"room_id",e.target.multiple?a:a[0])}}},t._l(t.roomData,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0)]):t._e(),t.roomData.length<=0?e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.room_id,expression:"user.room_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"room_id",e.target.multiple?a:a[0])}}})]):t._e(),t.isSubmitted&&t.$v.user.room_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.room_id.required?t._e():e("span",[t._v("Select property room.")])]):t._e()]),e("div",{class:t.class_a},[e("label",[t._v("Tanency Period")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.tanency_period,expression:"user.tanency_period"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"tanency_period",e.target.multiple?a:a[0])},t.onTypeChange]}},[e("option",{attrs:{value:"1"}},[t._v("6 Months")]),e("option",{attrs:{value:"2"}},[t._v("1 Year")]),e("option",{attrs:{value:"3"}},[t._v("Other")])]),t.isSubmitted&&t.$v.user.tanency_period.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.tanency_period.required?t._e():e("span",[t._v("Select tanency period.")])]):t._e()]),3==t.user.tanency_period?e("div",{class:t.class_a},[e("base-input",{attrs:{type:"text",label:"Other Tanency period",placeholder:"Other Tanency period"},model:{value:t.user.tanency_other,callback:function(e){t.$set(t.user,"tanency_other",e)},expression:"user.tanency_other"}})],1):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"deposite amount",placeholder:"deposite amount"},model:{value:t.user.deposite_amount,callback:function(e){t.$set(t.user,"deposite_amount",e)},expression:"user.deposite_amount"}}),t.isSubmitted&&t.$v.user.deposite_amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.deposite_amount.required?t._e():e("span",[t._v("Enter deposite amount.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"deposite date",placeholder:"deposite date"},model:{value:t.user.deposite_date,callback:function(e){t.$set(t.user,"deposite_date",e)},expression:"user.deposite_date"}}),t.isSubmitted&&t.$v.user.deposite_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.deposite_date.required?t._e():e("span",[t._v("Pick deposite date.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Frequency")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.frequency,expression:"user.frequency"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"frequency",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"1"}},[t._v("Monthly")]),e("option",{attrs:{value:"2"}},[t._v("Weekly")])]),t.isSubmitted&&t.$v.user.frequency.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.frequency.required?t._e():e("span",[t._v("Select frequency period.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("rent date")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.rent_date,expression:"user.rent_date"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"rent_date",e.target.multiple?a:a[0])}}},t._l(31,(function(a){return e("option",{key:a,domProps:{value:t.k=a}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.rent_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_date.required?t._e():e("span",[t._v("Select rent date.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"rent amount",placeholder:"rent amount"},model:{value:t.user.rent_amount,callback:function(e){t.$set(t.user,"rent_amount",e)},expression:"user.rent_amount"}}),t.isSubmitted&&t.$v.user.rent_amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.rent_amount.required?t._e():e("span",[t._v("Enter rent amount.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"tanency start date",placeholder:"tanency start date"},model:{value:t.user.tanency_start_date,callback:function(e){t.$set(t.user,"tanency_start_date",e)},expression:"user.tanency_start_date"}}),t.isSubmitted&&t.$v.user.tanency_start_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.tanency_start_date.required?t._e():e("span",[t._v("Pick tanency start date.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"tanency end date",placeholder:"tanency end date"},model:{value:t.user.tanency_end_date,callback:function(e){t.$set(t.user,"tanency_end_date",e)},expression:"user.tanency_end_date"}}),t.isSubmitted&&t.$v.user.tanency_end_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.tanency_end_date.required?t._e():e("span",[t._v("Pick tanency end date.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"full final settlement",placeholder:"full final settlement"},model:{value:t.user.full_final_settlement,callback:function(e){t.$set(t.user,"full_final_settlement",e)},expression:"user.full_final_settlement"}})],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"reference",placeholder:"reference"},model:{value:t.user.reference,callback:function(e){t.$set(t.user,"reference",e)},expression:"user.reference"}}),t.isSubmitted&&t.$v.user.reference.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.reference.required?t._e():e("span",[t._v("reference field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select tenant Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.admin_id,expression:"user.admin_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"admin_id",e.target.multiple?a:a[0])},function(e){return t.onChangeAdmin(e)}]}},t._l(t.admins,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.admin_id.required?t._e():e("span",[t._v("Select admin from list.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select tenant Manager")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.manager_id,expression:"user.manager_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"manager_id",e.target.multiple?a:a[0])}}},t._l(t.managers,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.user.manager_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.manager_id.required?t._e():e("span",[t._v("Select manager from list.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v("Remarks")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.remarks,expression:"user.remarks"}],staticClass:"form-control",domProps:{value:t.user.remarks},on:{input:function(e){e.target.composing||t.$set(t.user,"remarks",e.target.value)}}}),t.isSubmitted&&t.$v.user.remarks.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.remarks.required?t._e():e("span",[t._v("Enter remarks.")])]):t._e()])]),e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Identity Proof Documents")]),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",disabled:t.isInitial},on:{change:t.onFileChange}}),t.isInitial?t._e():e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]),t.isInitial?e("p",[t._v("\n                        Uploading "+t._s(t.fileName)+"...\n                      ")]):t._e()]),t.isSubmitted&&t.$v.user.id_proof.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.id_proof.required?t._e():e("span",[t._v("Uplaod image.")])]):t._e()]),t.user.id_proof?e("div",{staticClass:"col-md-6 image"},[e("img",{attrs:{src:this.path+t.user.id_proof}})]):t._e()]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"text-center mt-4"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                    Save\n                  ")]),t.loading?e("ajax-loader"):t._e()],1)])]),e("div",{staticClass:"clearfix"})])])],1)])])])},Gn=[],Wn={components:{Card:ot,BaseInput:O,AjaxLoader:Pe},data:function(){var t;return{class_a:"col-md-4",tableData:[],roomData:[],managers:"",admins:"",loading:!1,isInitial:!1,currentuser:"",fileName:"",user:(t={id:"",reference:"",name:"",email:"",phone_no:"",property_id:"",room_id:"",tanency_period:"",deposite_amount:"",deposite_date:"",rent_amount:"",frequency:"",rent_date:"",tanency_start_date:"",tanency_end_date:"",full_final_settlement:"",remarks:"",id_proof:"",role_id:"4"},Object(P["a"])(t,"remarks",""),Object(P["a"])(t,"manager_id",""),Object(P["a"])(t,"admin_id",""),Object(P["a"])(t,"tanency_other",""),t),isSubmitted:!1,path:""}},validations:{user:{reference:{required:ze["required"]},name:{required:ze["required"]},email:{required:ze["required"],email:ze["email"]},phone_no:{required:ze["required"]},property_id:{required:ze["required"]},room_id:{required:ze["required"]},tanency_period:{required:ze["required"]},deposite_amount:{required:ze["required"]},deposite_date:{required:ze["required"]},rent_amount:{required:ze["required"]},frequency:{required:ze["required"]},rent_date:{required:ze["required"]},tanency_start_date:{required:ze["required"]},tanency_end_date:{required:ze["required"]},id_proof:{required:ze["required"]},remarks:{required:ze["required"]},manager_id:{required:ze["required"]},admin_id:{required:ze["required"]}}},mounted:function(){this.path="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this._getProperties(),this.currentuser=JSON.parse(localStorage.getItem("user")),this._getManager(this.currentuser.id),this._getAdmin(),this._getTenant(this.$route.params.id)},methods:{onTypeChange:function(t){3==t.target.value?this.class_a="col-md-3":(this.class_a="col-md-4",this.user.tanency_other="")},_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getManager:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.managers&&(e.managers=t.data.managers),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},onChangeAdmin:function(t){var e=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/managers/"+t.target.value,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data&&(e.managers=t.data.managers)})).catch((function(t){e.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getProperties:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/properties",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.properties&&(t.tableData=e.data.properties),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},onChange:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/roomlist/"+t.target.value,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),200==t.status&&t.data.data&&(e.roomData=t.data.data),e.loading=!1})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;this.fileName=t.target.files[0].name,n.append("image",t.target.files[0]),n.append("path","owner"),n.append("key","id_proof"),this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.isInitial=!0,a.user.id_proof=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loading=!1}))},_getRoom:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/roomlist/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.data&&(e.roomData=t.data.data),e.loading=!1})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},_getTenant:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/tanent/"+t+"/edit",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.tanent&&(e._getRoom(t.data.tanent.tanent_details.property.id),e.user.tanent_id=t.data.tanent.id,e.user.reference=t.data.tanent.tanent_details.reference,e.user.tanent_id=t.data.tanent.tanent_details.tanent_id,e.user.name=t.data.tanent.name,e.user.email=t.data.tanent.email,e.user.phone_no=t.data.tanent.phone_no,e.user.property_id=t.data.tanent.tanent_details.property.id,e.user.room_id=t.data.tanent.tanent_details.room.id,e.user.tanency_period=t.data.tanent.tanent_details.tanency_period,e.user.deposite_amount=t.data.tanent.tanent_details.deposite_amount,e.user.deposite_date=t.data.tanent.tanent_details.deposite_date,e.user.rent_amount=t.data.tanent.tanent_details.rent_amount,e.user.frequency=t.data.tanent.tanent_details.frequency,e.user.rent_date=t.data.tanent.tanent_details.rent_date,e.user.tanency_start_date=t.data.tanent.tanent_details.tanency_start_date,e.user.tanency_end_date=t.data.tanent.tanent_details.tanency_end_date,e._getManager(t.data.tanent.created_under_admin),e.user.manager_id=t.data.tanent.created_under_manager,e.user.admin_id=t.data.tanent.created_under_admin,e.user.id_proof=t.data.tanent.tanent_details.id_proof,e.user.remarks=t.data.tanent.tanent_details.remarks,e.user.full_final_settlement=t.data.tanent.tanent_details.full_final_settlement,console.log(e.user)),e.loading=!1})).catch((function(t){}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/tanent/update",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"TenantsList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){console.log(e),401==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.errors+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Qn=Wn,Xn=(a("a38c"),Object(c["a"])(Qn,Yn,Gn,!1,null,null,null)),Zn=Xn.exports,ts=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("Trader List")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/new-trade"}},[t._v("Add New")])],1)]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.No")]),e("th",[t._v("Name")]),e("th",[t._v("Email")]),e("th",[t._v("Phone")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v(t._s(a.phone_no))]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/edit-trade/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return t.deleteProfile(a.id,i)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),0)]),t.loading?e("ajax-loader"):t._e()],1)])],1)])])])},es=[],as={components:{LTable:aa,Card:ot,AjaxLoader:Pe},data:function(){return{tableData:[],loading:!1}},mounted:function(){this._getTraders()},methods:{_getTraders:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/trade-persons-list",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.tradePersons&&(t.tableData=e.data.tradePersons),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},deleteProfile:function(t,e){var a=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/trade-person/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),a.tableData.splice(e,1)})).catch((function(t){a.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},is=as,ns=Object(c["a"])(is,ts,es,!1,null,null,null),ss=ns.exports,os=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add New Trader")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t.isSubmitted&&t.$v.form.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",label:"Email",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t.isSubmitted&&t.$v.form.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.form.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone",placeholder:"Phone"},model:{value:t.form.phone_no,callback:function(e){t.$set(t.form,"phone_no",e)},expression:"form.phone_no"}}),t.isSubmitted&&t.$v.form.phone_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.phone_no.required?t._e():e("span",[t._v("Phone field is required.")])]):t._e()],1),1==t.currentUser.role_id?e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.admin_id,expression:"form.admin_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"admin_id",e.target.multiple?a:a[0])}}},t._l(t.admins,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.form.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.admin_id.required?t._e():e("span",[t._v("Admin field is required.")])]):t._e()]):t._e()]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-secondry float-left",attrs:{to:{name:"TradesList"}}},[t._v("\n                    Back\n                  ")]),e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                    Save\n                  ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},rs=[],ls={components:{Card:ot},data:function(){return{admins:"",form:{name:"",phone_no:"",email:""},isSubmitted:!1,loading:!1,currentUser:""}},validations:{form:{email:{required:ze["required"],email:ze["email"]},name:{required:ze["required"]},phone_no:{required:ze["required"]},admin_id:{required:ze["required"]}}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),1==this.currentUser.role_id?this._getAdmin():this.form.admin_id=this.currentUser.id},methods:{_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/add-trade-person",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>New trade person added successfully.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"TradesList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},cs=ls,ds=Object(c["a"])(cs,os,rs,!1,null,null,null),us=ds.exports,ps=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Trader")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t.isSubmitted&&t.$v.form.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",label:"Email",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t.isSubmitted&&t.$v.form.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.form.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone",placeholder:"Phone"},model:{value:t.form.phone_no,callback:function(e){t.$set(t.form,"phone_no",e)},expression:"form.phone_no"}}),t.isSubmitted&&t.$v.form.phone_no.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.phone_no.required?t._e():e("span",[t._v("Phone field is required.")])]):t._e()],1),1==t.currentUser.role_id?e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.admin_id,expression:"form.admin_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"admin_id",e.target.multiple?a:a[0])}}},t._l(t.admins,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.isSubmitted&&t.$v.form.admin_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.admin_id.required?t._e():e("span",[t._v("Admin field is required.")])]):t._e()]):t._e()]),e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-secondry float-left",attrs:{to:{name:"TradesList"}}},[t._v("\n                      Back\n                    ")]),e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateProfile.apply(null,arguments)}}},[t._v("\n                      Update\n                    ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},ms=[],vs={components:{Card:ot,AjaxLoader:Pe},data:function(){return{admins:"",form:{id:"",name:"",phone_no:"",email:""},isSubmitted:!1,loading:!1,currentUser:""}},validations:{form:{email:{required:ze["required"],email:ze["email"]},name:{required:ze["required"]},phone_no:{required:ze["required"]}}},mounted:function(){this.getOwner(this.$route.params.id),this.currentUser=JSON.parse(localStorage.getItem("user")),1==this.currentUser.role_id?this._getAdmin():this.form.admin_id=this.currentUser.id},methods:{_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},getOwner:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/trade-person/"+t+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.tradePersons&&(e.form.admin_id=t.data.tradePersons.admin_id,e.form.id=t.data.tradePersons.id,e.form.name=t.data.tradePersons.name,e.form.email=t.data.tradePersons.email,e.form.phone_no=t.data.tradePersons.phone_no),e.loading=!1})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){}))},updateProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/trade-person/update",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>Trade person updated successfully.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"TradesList"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},fs=vs,_s=Object(c["a"])(fs,ps,ms,!1,null,null,null),gs=_s.exports,hs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("Property Expense List")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:{path:"/admin/new-property-expense/"+t.property_id}}},[t._v("Add New")])],1)]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.no")]),e("th",[t._v("Expense")]),e("th",[t._v("Property Name")]),e("th",[t._v("Amount")]),e("th",[t._v("Created Date")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.property.name))]),e("td",[t._v("$"+t._s(a.amount))]),e("td",[t._v(" "+t._s(t._f("formatDate")(a.created_at)))]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/edit-property-expense/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.deleteExpense(a.id,i)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),0)]),t.loading?e("ajax-loader"):t._e()],1)])],1)])])])},bs=[],ys={components:{LTable:aa,Card:ot,AjaxLoader:Pe},data:function(){return{property_id:"",loading:!1,tableData:[]}},mounted:function(){this.property_id=this.$route.params.id,this._getExpense(this.$route.params.id)},methods:{_getExpense:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/expense-list/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.expense&&(e.tableData=t.data.expense),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},deleteExpense:function(t,e){var a=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/expense/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),a.tableData.splice(e,1)})).catch((function(t){a.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},Cs=ys,ks=Object(c["a"])(Cs,hs,bs,!1,null,null,null),$s=ks.exports,ws=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add Property Expense")]),t.loading?t._e():e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"type",e.target.multiple?a:a[0])}}},t._l(t.type,(function(a,i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.form.type.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.type.required?t._e():e("span",[t._v("Select type.")])]):t._e()]),7==t.form.type?e("div",{staticClass:"col-md-3"},[e("label",[t._v("Other Expense Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.other_expense,expression:"form.other_expense"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Other Expense Name"},domProps:{value:t.form.other_expense},on:{input:function(e){e.target.composing||t.$set(t.form,"other_expense",e.target.value)}}})]):t._e(),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"type",label:"Name",placeholder:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t.isSubmitted&&t.$v.form.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.name.required?t._e():e("span",[t._v("Name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("label",[t._v("who is paying")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.who_is_paying,expression:"form.who_is_paying"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"who_is_paying",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"Jason"}},[t._v("Jason")]),e("option",{attrs:{value:"Investor"}},[t._v("Investor")])]),t.isSubmitted&&t.$v.form.who_is_paying.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.who_is_paying.required?t._e():e("span",[t._v("who is paying field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"number",label:"Amount",placeholder:"Amount"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}}),t.isSubmitted&&t.$v.form.amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.amount.required?t._e():e("span",[t._v("amount field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"date",label:"Payment date",placeholder:"Payment date"},model:{value:t.form.payment_date,callback:function(e){t.$set(t.form,"payment_date",e)},expression:"form.payment_date"}}),t.isSubmitted&&t.$v.form.payment_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.payment_date.required?t._e():e("span",[t._v("payment date field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Invoice Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChange}}),t.form.invoice?t._e():e("p",[t._v("\n                          Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                        ")]),e("div",{staticClass:"row"},[t.form.invoice?e("div",{staticClass:"col-md-12 square"},[e("img",{attrs:{src:t.imagePath+t.form.invoice}})]):t._e()])]),t.loadingRear?e("ajax-loader"):t._e(),t.isSubmitted&&t.$v.form.invoice.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.invoice.required?t._e():e("span",[t._v("invoice field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v("Remarks")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.remarks,expression:"form.remarks"}],staticClass:"form-control",domProps:{value:t.form.remarks},on:{input:function(e){e.target.composing||t.$set(t.form,"remarks",e.target.value)}}}),t.isSubmitted&&t.$v.form.remarks.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.remarks.required?t._e():e("span",[t._v("remarks field is required.")])]):t._e()])]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Save\n                ")])]),e("div",{staticClass:"clearfix"})]),t.loading?e("ajax-loader"):t._e()],1)],1)])])])},As=[],Ss={components:{Card:ot,BaseInput:O,AjaxLoader:Pe},data:function(){return{loadingRear:!1,type:"",imagePath:"",form:{property_id:"",type:"",name:"",who_is_paying:"",amount:"",payment_date:"",invoice:"",remarks:"",other_expense:""},isSubmitted:!1,loading:!1}},validations:{form:{type:{required:ze["required"]},name:{required:ze["required"]},who_is_paying:{required:ze["required"]},amount:{required:ze["required"]},payment_date:{required:ze["required"]},invoice:{required:ze["required"]},remarks:{required:ze["required"]}}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.getType()},methods:{onTypeChange:function(t){7==t.target.value||(this.form.other_expense="")},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;n.append("image",t.target.files[0]),n.append("path","invoice"),n.append("key","pdf_name"),this.loadingRear=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.form.invoice=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRear=!1}))},getType:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/expense-type",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.documentTypes&&(t.type=e.data.documentTypes),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.form.property_id=this.$route.params.id,this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/expense/add",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>New record addedd successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"PropertyExpense"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},qs=Ss,xs=Object(c["a"])(qs,ws,As,!1,null,null,null),js=xs.exports,Ps=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Property Expense")]),t.loading?t._e():e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("label",[t._v("Select Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"type",e.target.multiple?a:a[0])}}},t._l(t.typeList,(function(a,i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.form.type.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.type.required?t._e():e("span",[t._v("Select type.")])]):t._e()]),7==t.form.type?e("div",{staticClass:"col-md-3"},[e("label",[t._v("Other Expense Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.other_expense,expression:"form.other_expense"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Other Expense Name"},domProps:{value:t.form.other_expense},on:{input:function(e){e.target.composing||t.$set(t.form,"other_expense",e.target.value)}}})]):t._e(),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"type",label:"Name",placeholder:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t.isSubmitted&&t.$v.form.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.name.required?t._e():e("span",[t._v("Name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("label",[t._v("who is paying")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.who_is_paying,expression:"form.who_is_paying"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"who_is_paying",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"Jason"}},[t._v("Jason")]),e("option",{attrs:{value:"Investor"}},[t._v("Investor")])]),t.isSubmitted&&t.$v.form.who_is_paying.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.who_is_paying.required?t._e():e("span",[t._v("who is paying field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"number",label:"Amount",placeholder:"Amount"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}}),t.isSubmitted&&t.$v.form.amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.amount.required?t._e():e("span",[t._v("amount field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-3"},[e("base-input",{attrs:{type:"date",label:"Payment date",placeholder:"Payment date"},model:{value:t.form.payment_date,callback:function(e){t.$set(t.form,"payment_date",e)},expression:"form.payment_date"}}),t.isSubmitted&&t.$v.form.payment_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.payment_date.required?t._e():e("span",[t._v("payment date field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("label",[t._v("Invoice Images")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:t.onFileChange}}),t.form.invoice?t._e():e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]),e("div",{staticClass:"row"},[t.form.invoice?e("div",{staticClass:"col-md-12 square"},[e("img",{attrs:{src:t.imagePath+t.form.invoice}})]):t._e()])]),t.loadingRear?e("ajax-loader"):t._e(),t.isSubmitted&&t.$v.form.invoice.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.invoice.required?t._e():e("span",[t._v("invoice field is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v("Remarks")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.remarks,expression:"form.remarks"}],staticClass:"form-control",domProps:{value:t.form.remarks},on:{input:function(e){e.target.composing||t.$set(t.form,"remarks",e.target.value)}}}),t.isSubmitted&&t.$v.form.remarks.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.remarks.required?t._e():e("span",[t._v("remarks field is required.")])]):t._e()])]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Save\n                ")])]),e("div",{staticClass:"clearfix"})]),t.loading?e("ajax-loader"):t._e()],1)],1)])])])},zs=[],Ds={components:{Card:ot,BaseInput:O,AjaxLoader:Pe},data:function(){return{imagePath:"",loadingRear:!1,typeList:"",form:{property_id:"",type:"",name:"",who_is_paying:"",amount:"",payment_date:"",invoice:"",remarks:"",other_expense:""},isSubmitted:!1,loading:!1}},validations:{form:{type:{required:ze["required"]},name:{required:ze["required"]},who_is_paying:{required:ze["required"]},amount:{required:ze["required"]},payment_date:{required:ze["required"]},invoice:{required:ze["required"]},remarks:{required:ze["required"]}}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this._getExpens(this.$route.params.id),this.getType()},methods:{onTypeChange:function(t){7==t.target.value||(this.form.other_expense="")},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;n.append("image",t.target.files[0]),n.append("path","invoice"),n.append("key","pdf_name"),this.loadingRear=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.form.invoice=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loadingRear=!1}))},getType:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/expense-type",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.documentTypes&&(t.typeList=e.data.documentTypes),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},_getExpens:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/expense/"+t+"/edit",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.expenseDetails&&(e.form.property_id=t.data.expenseDetails.property_id,e.form.type=t.data.expenseDetails.type,e.form.name=t.data.expenseDetails.name,e.form.who_is_paying=t.data.expenseDetails.who_is_paying,e.form.amount=t.data.expenseDetails.amount,e.form.invoice=t.data.expenseDetails.invoice,e.form.remarks=t.data.expenseDetails.remarks,e.form.id=t.data.expenseDetails.id,e.form.payment_date=t.data.expenseDetails.payment_date),e.loading=!1})).catch((function(t){}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.form.property_id=this.$route.params.id,this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/expense/update",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>Record updated successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"PropertyExpense"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Is=Ds,Ns=Object(c["a"])(Is,Ps,zs,!1,null,null,null),Ts=Ns.exports,Os=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"}),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/add-user"}},[t._v("Add New")])],1)]),!t.loading&&t.currentuser?e("div",{staticClass:"table-responsive"},[e("tabs",[1==t.currentuser.role_id?e("tab",{staticClass:"active",attrs:{name:"Admin List"}},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.No")]),e("th",[t._v("Name")]),e("th",[t._v("Email")]),e("th",[t._v("Role")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData.admins,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v("Admin")]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/edit-user/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.deleteProfile(a.id,i,"admin")}}},[t._v("\n                            Delete\n                          ")])],1)]}),{row:a})],2)})),0)])]):t._e(),t.currentuser||1==t.currentuser.role_id||2==t.currentuser.role_id?e("tab",{attrs:{name:"Manager List"}},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Name")]),e("th",[t._v("Email")]),e("th",[t._v("Role")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData.managers,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.email))]),e("td",[t._v("Manager")]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/edit-user/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.deleteProfile(a.id,i,"manager")}}},[t._v("\n                            Delete\n                          ")])],1)]}),{row:a})],2)})),0)])]):t._e()],1),t.loading?e("ajax-loader"):t._e()],1):t._e()])],1)])])])},Bs=[],Ls={components:{LTable:aa,Card:ot,AjaxLoader:Pe},data:function(){return{currentuser:"",loading:!1,managertable:!1,admintable:!1,tableData:[]}},mounted:function(){this._getUser(),this.currentuser=JSON.parse(localStorage.getItem("user"))},methods:{_getUser:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/user-list",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.data&&(e.data.data.admins&&(t.admintable=!0),t.tableData=e.data.data),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},deleteProfile:function(t,e,a){var i=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/user/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){i.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),"admin"==a&&i.tableData.admins.splice(e,1),"manager"==a&&i.tableData.managers.splice(e,1)})).catch((function(t){i.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},Rs=Ls,Us=(a("026e"),Object(c["a"])(Rs,Os,Bs,!1,null,null,null)),Fs=Us.exports,Es=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add New User")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select User Role")]),1==t.currentUser.role_id?e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role_id,expression:"user.role_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"role_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},t._l(t.roles,(function(a,i){return e("option",{key:a,domProps:{value:i}},[t._v(t._s(a))])})),0):t._e(),2==t.currentUser.role_id?e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role_id,expression:"user.role_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"role_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},[t._l(t.roles,(function(a,i){return t._t("default",(function(){return[1!=i&&2!=i?e("option",{key:a,domProps:{value:i}},[t._v(t._s(a))]):t._e()]}))}))],2):t._e(),3==t.currentUser.role_id?e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role_id,expression:"user.role_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"role_id",e.target.multiple?a:a[0])},function(e){return t.onChange(e)}]}},[t._l(t.roles,(function(a,i){return t._t("default",(function(){return[1!=i&&2!=i&&3!=i?e("option",{key:a,domProps:{value:i}},[t._v(t._s(a))]):t._e()]}))}))],2):t._e(),t.isSubmitted&&t.$v.user.role_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.role_id.required?t._e():e("span",[t._v("Select role is required.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"tel",label:"Phone no",placeholder:"Phone no"},model:{value:t.user.phone_no,callback:function(e){t.$set(t.user,"phone_no",e)},expression:"user.phone_no"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"email",label:"Email",placeholder:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t.isSubmitted&&t.$v.user.email.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.email.required?t._e():e("span",[t._v("Email field is required.")]),t.$v.user.email.email?t._e():e("span",[t._v("Please provide valid email")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"password",label:"Password",placeholder:"Password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),t.isSubmitted&&t.$v.user.password.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.password.required?t._e():e("span",[t._v("Password field is required.")])]):t._e()],1),t.showPermission&&1==this.currentUser.role_id?e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Admin")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.admin_id,expression:"user.admin_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"admin_id",e.target.multiple?a:a[0])}}},t._l(t.admins,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])})),0),t.adminerror?e("div",{staticClass:"invalid-feedback"},[t.adminerror?e("span",[t._v("Select admin from list.")]):t._e()]):t._e()]):t._e()]),t.showPermission?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t._v("Manager Permission")]),t._l(t.permissions,(function(a){return e("div",{key:a,staticClass:"col-md-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.permissions,expression:"user.permissions"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(t.user.permissions)?t._i(t.user.permissions,a)>-1:t.user.permissions},on:{change:function(e){var i=t.user.permissions,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=a,r=t._i(i,o);n.checked?r<0&&t.$set(t.user,"permissions",i.concat([o])):r>-1&&t.$set(t.user,"permissions",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.user,"permissions",s)}}}),e("label",{staticClass:"pl-2"},[t._v(t._s(a))])])}))],2):t._e(),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Save\n                ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},Ms=[],Hs={components:{Card:ot,AjaxLoader:Pe},data:function(){return{roles:{2:"Admin",3:"Manager"},permissions:"",currentUser:"",showPermission:!1,admins:"",adminerror:!1,user:{name:"",email:"",role_id:"",password:"",password_confirmation:"",permissions:[],admin_id:"",phone_no:""},isSubmitted:!1,loading:!1}},validations:{user:{name:{required:ze["required"]},email:{required:ze["required"],email:ze["email"]},password:{required:ze["required"]},role_id:{required:ze["required"]}}},mounted:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this._getPermission(),1==this.currentUser.role_id&&this._getAdmin(),2==this.currentUser.role_id&&(this.user.admin_id=this.currentUser.id)},methods:{onChange:function(t){3==t.target.value?this.showPermission=!0:(this.user.permission=[],this.user.admin_id="",this.showPermission=!1)},_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getPermission:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/permissions",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.permissions=e.data.permissions)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.adminerror=!1,this.$v.$touch(),this.$v.$invalid||(this.user.password_confirmation=this.user.password,3!=this.user.role_id||""!=this.user.admin_id?(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/register",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>New user added successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),2==t.user.role_id?window.location.href="/admin/user-list":window.location.href="/admin/user-list#manager-list"):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1}))):this.adminerror=!0)}}},Js=Hs,Ks=Object(c["a"])(Js,Es,Ms,!1,null,null,null),Vs=Ks.exports,Ys=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit User")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Current User Role")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role_id,expression:"user.role_id"}],staticClass:"form-control",attrs:{disabled:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"role_id",e.target.multiple?a:a[0])}}},t._l(t.roles,(function(a,i){return e("option",{key:a,domProps:{value:i}},[t._v(t._s(a))])})),0)]),e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"text",label:"Full Name",placeholder:"Full Name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}}),t.isSubmitted&&t.$v.user.name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.name.required?t._e():e("span",[t._v("Full name field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-6"},[e("base-input",{attrs:{type:"tel",label:"Phone no",placeholder:"Phone no"},model:{value:t.user.phone_no,callback:function(e){t.$set(t.user,"phone_no",e)},expression:"user.phone_no"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t.showPermission?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t._v("Manager Permission")]),t._l(t.permissions,(function(a){return e("div",{key:a,staticClass:"col-md-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.permissions,expression:"user.permissions"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(t.user.permissions)?t._i(t.user.permissions,a)>-1:t.user.permissions},on:{change:function(e){var i=t.user.permissions,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=a,r=t._i(i,o);n.checked?r<0&&t.$set(t.user,"permissions",i.concat([o])):r>-1&&t.$set(t.user,"permissions",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.user,"permissions",s)}}}),e("label",{staticClass:"pl-2"},[t._v(t._s(a))])])}))],2):t._e()])]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Updated\n                ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},Gs=[],Ws={components:{Card:ot,AjaxLoader:Pe},data:function(){return{roles:{2:"Admin",3:"Manager"},permissions:"",currentUser:"",showPermission:!1,admins:"",adminerror:!1,user:{user_id:"",name:"",phone_no:"",role_id:"",permissions:[]},isSubmitted:!1,loading:!1}},validations:{user:{name:{required:ze["required"]}}},mounted:function(){this._getUser(this.$route.params.id),this.currentUser=JSON.parse(localStorage.getItem("user")),this._getPermission(),1==this.currentUser.role_id&&this._getAdmin(),2==this.currentUser.role_id&&(this.user.admin_id=this.currentUser.id)},methods:{_getUser:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/user/"+t+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){if(e.loading=!1,200==t.status&&t.data.user&&(3===t.data.user.role_id&&(e.showPermission=!0),e.user.user_id=t.data.user.id,e.user.phone_no=t.data.user.phone_no,e.user.name=t.data.user.name,e.user.role_id=t.data.user.role_id,t.data.user.permissions))for(var a=0;a<t.data.user.permissions.length;a++)e.user.permissions.push(t.data.user.permissions[a].name)})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},_getAdmin:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/admins",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.admins=e.data.admins)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},_getPermission:function(){var t=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/permissions",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){e.data&&(t.permissions=e.data.permissions)})).catch((function(e){t.$notifications.notify({message:"<span>Somethign went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.adminerror=!1,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/user/update",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,200==e.status&&e.data?(t.$notifications.notify({message:"<span>User updated successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),2==t.user.role_id?window.location.href="/admin/user-list":window.location.href="/admin/user-list#manager-list"):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){console.log(e),422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Qs=Ws,Xs=Object(c["a"])(Qs,Ys,Gs,!1,null,null,null),Zs=Xs.exports,to=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("Property Document List")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:{path:"/admin/add-doc/"+t.id}}},[t._v("Add New")])],1)]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.No")]),e("th",[t._v("Type")]),e("th",[t._v("Care Taker Name")]),e("th",[t._v("Start Date")]),e("th",[t._v("End Date")]),e("th",[t._v("Path")]),e("th",[t._v("Action")])])]}))],2),e("tbody",[t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",t._l(t.propertyType,(function(i,n){return e("p",{key:i},[n==a.type?e("span",[t._v(t._s(i))]):t._e()])})),0),e("td",[t._v(t._s(a.care_taker_name))]),e("td",[t._v(t._s(a.start_date))]),e("td",[t._v(t._s(a.end_date))]),e("td",[e("div",{staticClass:"sequre"},[e("img",{attrs:{src:t.imagePath+a.name}})])]),e("td",[e("router-link",{staticClass:"btn btn-info p-2 ml-2",attrs:{to:{path:"/admin/edit-doc/"+a.id}}},[t._v("Edit")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return t.deleteDoc(a.id,i)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),0==this.tableData.length?e("tr",[e("td",[t._v("No data found")])]):t._e()],2)]),t.loading?e("ajax-loader"):t._e()],1)])],1)])])])},eo=[],ao={components:{LTable:aa,Card:ot,AjaxLoader:Pe},data:function(){return{propertyType:"",imagePath:"",tableData:[],id:"",loading:!1}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.id=this.$route.params.id,this._getProperties(this.$route.params.id),this._getType()},methods:{_getType:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/document-types",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.documentTypes&&(t.propertyType=e.data.documentTypes),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},_getProperties:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/document-list/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.documentList&&(e.tableData=t.data.documentList),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},deleteDoc:function(t,e){var a=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/document/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),a.tableData.splice(e,1)})).catch((function(t){a.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},io=ao,no=(a("84a2"),Object(c["a"])(io,to,eo,!1,null,null,null)),so=no.exports,oo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Property Documents")]),e("form",[e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"type",e.target.multiple?a:a[0])},t.onTypeChange]}},t._l(t.propertyType,(function(a,i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(a))])})),0)]),10==t.form.type?e("div",{staticClass:"col-md-4"},[e("label",[t._v("Other Doc Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.other_doc,expression:"form.other_doc"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Other Doc Name"},domProps:{value:t.form.other_doc},on:{input:function(e){e.target.composing||t.$set(t.form,"other_doc",e.target.value)}}})]):t._e(),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Care Taker Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.care_taker_name,expression:"form.care_taker_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"care taker name"},domProps:{value:t.form.care_taker_name},on:{input:function(e){e.target.composing||t.$set(t.form,"care_taker_name",e.target.value)}}}),t.isSubmitted&&t.$v.form.care_taker_name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.care_taker_name.required?t._e():e("span",[t._v("Care taker field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Start date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.start_date,expression:"form.start_date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.form.start_date},on:{input:function(e){e.target.composing||t.$set(t.form,"start_date",e.target.value)}}}),t.isSubmitted&&t.$v.form.start_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.start_date.required?t._e():e("span",[t._v("Start date field is required.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("label",[t._v("End date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.end_date,expression:"form.end_date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.form.end_date},on:{input:function(e){e.target.composing||t.$set(t.form,"end_date",e.target.value)}}}),t.isSubmitted&&t.$v.form.end_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.end_date.required?t._e():e("span",[t._v("End date field is required.")])]):t._e()])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Documents Image")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file"},on:{change:t.onFileChange}}),t.form.pdf_name?t._e():e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]),e("div",{staticClass:"row"},[t.form.pdf_name?e("div",{staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.pdf_name}})]):t._e()])]),t.loadingRoom?e("ajax-loader"):t._e()],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12"},[e("router-link",{attrs:{to:{path:"/admin/doc-list/"+t.form.property_id}}},[t._v("Back")]),e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProperty.apply(null,arguments)}}},[t._v("\n                    Save\n                  ")])],1)]),e("div",{staticClass:"clearfix"})]),t.loading?e("ajax-loader"):t._e()],1)],1)])])])},ro=[],lo={components:{Card:ot,BaseCheckbox:E,AmenitiesImage:rn,BaseRadio:Y,BaseInput:O,AjaxLoader:Pe},data:function(){return{loadingRoom:!1,isSubmitted:!1,propertyType:[],loading:!1,imagePath:"",form:{property_id:"",type:"",pdf_name:"",care_taker_name:"",start_date:"",end_date:"",other_doc:""}}},validations:{form:{property_id:{required:ze["required"]},type:{required:ze["required"]},pdf_name:{required:ze["required"]},care_taker_name:{required:ze["required"]},start_date:{required:ze["required"]},end_date:{required:ze["required"]}}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.form.property_id=this.$route.params.id,this._getType()},methods:{_getType:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/document-types",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.documentTypes&&(t.propertyType=e.data.documentTypes),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},onTypeChange:function(t){10==t.target.value||(this.form.other_doc="")},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;n.append("image",t.target.files[0]),n.append("path","documents"),n.append("key","pdf_name"),this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.form.pdf_name=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loading=!1}))},saveProperty:function(){var t=this;if(this.isSubmitted=!0,this.$v.$touch(),!this.$v.$invalid){this.loading=!0;var e="http://property-apis.jpcdevelopment.co.uk/api/document/add";zt["a"].post(e,this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"ListDoc",params:{id:t.form.property_id}})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1}))}}}},co=lo,uo=(a("cb48"),Object(c["a"])(co,oo,ro,!1,null,null,null)),po=uo.exports,mo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Property Documents")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Type")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"type",e.target.multiple?a:a[0])}}},t._l(t.propertyType,(function(a,i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(a))])})),0)]),10==t.form.type?e("div",{staticClass:"col-md-4"},[e("label",[t._v("Other Doc Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.other_doc,expression:"form.other_doc"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Other Doc Name"},domProps:{value:t.form.other_doc},on:{input:function(e){e.target.composing||t.$set(t.form,"other_doc",e.target.value)}}})]):t._e(),e("div",{staticClass:"col-md-4"},[e("label",[t._v("Care Taker Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.care_taker_name,expression:"form.care_taker_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"care taker name"},domProps:{value:t.form.care_taker_name},on:{input:function(e){e.target.composing||t.$set(t.form,"care_taker_name",e.target.value)}}}),t.isSubmitted&&t.$v.form.care_taker_name.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.care_taker_name.required?t._e():e("span",[t._v("Care taker field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Start date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.start_date,expression:"form.start_date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.form.start_date},on:{input:function(e){e.target.composing||t.$set(t.form,"start_date",e.target.value)}}}),t.isSubmitted&&t.$v.form.start_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.start_date.required?t._e():e("span",[t._v("Start date field is required.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("label",[t._v("End date")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.end_date,expression:"form.end_date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.form.end_date},on:{input:function(e){e.target.composing||t.$set(t.form,"end_date",e.target.value)}}}),t.isSubmitted&&t.$v.form.end_date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.end_date.required?t._e():e("span",[t._v("End date field is required.")])]):t._e()])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("label",[t._v("Documents Image")]),e("br"),e("div",{staticClass:"dropbox"},[e("input",{staticClass:"input-file",attrs:{type:"file"},on:{change:t.onFileChange}}),t.form.pdf_name?t._e():e("p",[t._v("\n                        Drag your file(s) here to begin"),e("br"),t._v(" or click to browse\n                      ")]),e("div",{staticClass:"row"},[t.form.pdf_name?e("div",{staticClass:"col-md-4 square"},[e("img",{attrs:{src:t.imagePath+t.form.pdf_name}})]):t._e()])]),t.loadingRoom?e("ajax-loader"):t._e()],1)]),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-md-12"},[e("router-link",{attrs:{to:{path:"/admin/doc-list/"+t.form.property_id}}},[t._v("Back")]),e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProperty.apply(null,arguments)}}},[t._v("\n                    Update\n                  ")])],1)]),e("div",{staticClass:"clearfix"})]),t.loading?e("ajax-loader"):t._e()],1)],1)])])])},vo=[],fo={components:{Card:ot,BaseCheckbox:E,AmenitiesImage:rn,BaseRadio:Y,BaseInput:O,AjaxLoader:Pe},data:function(){return{imagePath:"",isSubmitted:!1,propertyType:[],loading:!1,loadingRoom:!1,form:{id:"",property_id:"",type:"",pdf_name:"",care_taker_name:"",start_date:"",end_date:""}}},validations:{form:{property_id:{required:ze["required"]},type:{required:ze["required"]},pdf_name:{required:ze["required"]},care_taker_name:{required:ze["required"]},start_date:{required:ze["required"]},end_date:{required:ze["required"]}}},mounted:function(){this.imagePath="https://jpcproperties.s3.eu-west-2.amazonaws.com/",this.getOwner(this.$route.params.id),this._getType()},methods:{onTypeChange:function(t){10==t.target.value||(this.form.other_doc="")},_getType:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/document-types",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.documentTypes&&(t.propertyType=e.data.documentTypes),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},getOwner:function(t){var e=this,a=this;zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/document/"+t+"/edit",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.documentDetails&&(a.form.property_id=t.data.documentDetails.property_id,a.form.type=t.data.documentDetails.type,a.form.care_taker_name=t.data.documentDetails.care_taker_name,a.form.start_date=t.data.documentDetails.start_date,a.form.end_date=t.data.documentDetails.end_date,a.form.pdf_name=t.data.documentDetails.name,a.form.id=t.data.documentDetails.id),e.loading=!1})).catch((function(t){console.log(t),e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},onFileChange:function(t){var e=this;t.preventDefault();var a=this,i={headers:{"content-type":"multipart/form-data"}},n=new FormData;n.append("image",t.target.files[0]),n.append("path","documents"),n.append("key","pdf_name"),this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/upload_image",n,i).then((function(t){t.data.status&&(a.form.pdf_name=t.data.url)})).catch((function(t){e.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).finally((function(){e.loading=!1}))},saveProperty:function(){var t=this;if(this.isSubmitted=!0,this.$v.$touch(),!this.$v.$invalid){this.loading=!0;var e="http://property-apis.jpcdevelopment.co.uk/api/document/update";zt["a"].post(e,this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e.status),200==e.status&&e.data?(t.$notifications.notify({message:"<span>"+e.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"ListDoc",params:{id:t.form.property_id}})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1}))}}}},_o=fo,go=(a("0012"),Object(c["a"])(_o,mo,vo,!1,null,null,null)),ho=go.exports,bo=function(){var t=this,e=t._self._c;return e("div",["property"==t.type?e("add-cash-property",{attrs:{id:t.id}}):t._e(),"tenant"==t.type?e("add-cash-tenant"):t._e()],1)},yo=[],Co=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("card",[t.loading?e("ajax-loader"):t._e(),e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add Cash Details")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Enter Amount",placeholder:"Enter Amount"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}}),t.isSubmitted&&t.$v.form.amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.amount.required?t._e():e("span",[t._v("Amount field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"Cash Date",placeholder:"Cash Date"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}}),t.isSubmitted&&t.$v.form.date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.date.required?t._e():e("span",[t._v("Date field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Receiver Name",placeholder:"Receiver Name"},model:{value:t.form.given_to,callback:function(e){t.$set(t.form,"given_to",e)},expression:"form.given_to"}}),t.isSubmitted&&t.$v.form.given_to.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.given_to.required?t._e():e("span",[t._v("given to field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveCash.apply(null,arguments)}}},[t._v("Save")])])])])],1)],1)])])])},ko=[],$o={components:{AjaxLoader:Pe,BaseInput:O},data:function(){return{type:"",loading:!1,isSubmitted:!1,form:{property_id:"",room_id:"",tanent_id:"",amount:"",date:"",given_to:""}}},validations:{form:{tanent_id:{required:ze["required"]},property_id:{required:ze["required"]},room_id:{required:ze["required"]},amount:{required:ze["required"]},date:{required:ze["required"]},given_to:{required:ze["required"]}}},mounted:function(){this.form.tanent_id=this.$route.params.id,this.type=this.$route.params.type,this.currentUser=JSON.parse(localStorage.getItem("user")),this._getRoom(this.$route.params.id)},methods:{_getRoom:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/property-room-from-tenant/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data&&(e.form.property_id=t.data.tenant.property_id,e.form.room_id=t.data.tenant.room_id),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},saveCash:function(){var t=this;console.log(this.form),this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/add-cash-entry",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>Cash added successfully.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.back()):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},wo=$o,Ao=(a("4df2"),Object(c["a"])(wo,Co,ko,!1,null,null,null)),So=Ao.exports,qo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("card",[t.loading?e("ajax-loader"):t._e(),e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add Cash Details")]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select room")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.room_id,expression:"form.room_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"room_id",e.target.multiple?a:a[0])},function(e){return t._getTenant(e)}]}},[e("option",[t._v("Select Room")]),t._l(t.rooms,(function(a,i){return e("option",{key:i,domProps:{value:a.id}},[t._v(t._s(a.name))])}))],2),t.isSubmitted&&t.$v.form.room_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.room_id.required?t._e():e("span",[t._v("Select room is required.")])]):t._e()]),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Tenant",placeholder:t.tenant.name,value:t.tenant.name}}),t.isSubmitted&&t.$v.form.tanent_id.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.tanent_id.required?t._e():e("span",[t._v("Select tenant is required.")])]):t._e()],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"number",label:"Enter Amount",placeholder:"Enter Amount"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}}),t.isSubmitted&&t.$v.form.amount.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.amount.required?t._e():e("span",[t._v("Amount field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"date",label:"Cash Date",placeholder:"Cash Date"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}}),t.isSubmitted&&t.$v.form.date.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.date.required?t._e():e("span",[t._v("Date field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-4"},[e("base-input",{attrs:{type:"text",label:"Receiver Name",placeholder:"Receiver Name"},model:{value:t.form.given_to,callback:function(e){t.$set(t.form,"given_to",e)},expression:"form.given_to"}}),t.isSubmitted&&t.$v.form.given_to.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.given_to.required?t._e():e("span",[t._v("given to field is required.")])]):t._e()],1),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-info btn-fill float-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveCash.apply(null,arguments)}}},[t._v("Save")])])])])],1)],1)])])])},xo=[],jo={components:{BaseInput:O,AjaxLoader:Pe},data:function(){return{type:"",tenant:"",rooms:"",loading:!1,isSubmitted:!1,form:{property_id:"",room_id:"",tanent_id:"",amount:"",date:"",given_to:""}}},validations:{form:{tanent_id:{required:ze["required"]},property_id:{required:ze["required"]},room_id:{required:ze["required"]},amount:{required:ze["required"]},date:{required:ze["required"]},given_to:{required:ze["required"]}}},mounted:function(){this.form.property_id=this.$route.params.id,this.currentUser=JSON.parse(localStorage.getItem("user")),this._getRoom(this.$route.params.id)},methods:{_getRoom:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/roomlist/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data&&(e.rooms=t.data.data),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},_getTenant:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/tenant-from-room/"+t.target.value,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t&&(e.tenant=t.data.tenant,e.form.tanent_id=t.data.tenant.id),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},saveCash:function(){var t=this;console.log(this.form),this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/add-cash-entry",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>Cash added successfully.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.back()):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Po=jo,zo=(a("a63c"),Object(c["a"])(Po,qo,xo,!1,null,null,null)),Do=zo.exports,Io={components:Object(P["a"])({LTable:aa,ChartCard:He,StatsCard:We,BaseInput:O,AddCashTenant:So,AddCashProperty:Do},"AddCashTenant",So),data:function(){return{type:"",id:"",currentUser:""}},mounted:function(){this.type=this.$route.params.type,this.id=this.$route.params.id,console.log(this.id),this.currentUser=JSON.parse(localStorage.getItem("user"))},methods:{}},No=Io,To=(a("b463"),Object(c["a"])(No,bo,yo,!1,null,null,null)),Oo=To.exports,Bo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("Complaints List")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/new-trade"}},[t._v("Add New")])],1)]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.No")]),e("th",[t._v("Tenant Name")]),e("th",[t._v("Property")]),e("th",[t._v("Description")]),e("th",[t._v("Remarks")]),e("th",[t._v("Prority")]),e("th",[t._v("Status")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.tenant.name))]),e("td",[t._v(t._s(a.property.name)+" - "+t._s(a.room.name))]),e("td",[t._v(t._s(a.description))]),e("td",[t._v(t._s(a.remarks))]),e("td",[1==a.prority?e("span",[t._v("High")]):t._e(),2==a.prority?e("span",[t._v("Medium")]):t._e(),3==a.prority?e("span",[t._v("Low")]):t._e()]),e("td",[1==a.status?e("span",[t._v("Open")]):t._e(),2==a.status?e("span",[t._v("Closed")]):t._e()]),e("td",[e("router-link",{staticClass:"btn btn-info p-2",attrs:{to:{path:"/admin/view-complaint/"+a.id}}},[t._v("View")]),e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return t.deleteProfile(a.id,i)}}},[t._v("\n                        Delete\n                      ")])],1)]}),{row:a})],2)})),0)]),t.loading?e("ajax-loader"):t._e()],1)])],1)])])])},Lo=[],Ro={components:{LTable:aa,Card:ot,AjaxLoader:Pe},data:function(){return{tableData:[],loading:!1}},mounted:function(){this._getTraders()},methods:{_getTraders:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/complaints",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.complaints&&(t.tableData=e.data.complaints),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},deleteProfile:function(t,e){var a=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/trade-person/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),a.tableData.splice(e,1)})).catch((function(t){a.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},Uo=Ro,Fo=Object(c["a"])(Uo,Bo,Lo,!1,null,null,null),Eo=Fo.exports,Mo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("h4",{staticClass:"card-title"},[t._v("View Complaint")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/new-trade"}},[t._v("Add New")])],1)]),e("form",[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Status")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"status",e.target.multiple?a:a[0])}}},[e("option",[t._v("Select Status")]),e("option",{attrs:{value:"1"}},[t._v("Open")]),e("option",{attrs:{value:"2"}},[t._v("Closed")])]),t.isSubmitted&&t.$v.form.status.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.status.required?t._e():e("span",[t._v("status field is required.")])]):t._e()]),e("div",{staticClass:"col-md-12"},[e("label",[t._v("Add Remarks")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.remarks,expression:"form.remarks"}],staticClass:"form-control",domProps:{value:t.form.remarks},on:{input:function(e){e.target.composing||t.$set(t.form,"remarks",e.target.value)}}}),t.isSubmitted&&t.$v.form.remarks.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.form.remarks.required?t._e():e("span",[t._v("remarks field is required.")])]):t._e()]),e("div",{staticClass:"col-md-12"},[e("button",{staticClass:"btn btn-fill btn-info pull-right",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("Update")])])]),t.loading?e("ajax-loader"):t._e()],1)],1)])])])},Ho=[],Jo={components:{AjaxLoader:Pe},data:function(){return{isSubmitted:!1,form:{complaint_id:"",status:"",remarks:""},loading:!1}},validations:{form:{complaint_id:{required:ze["required"]},status:{required:ze["required"]},remarks:{required:ze["required"]}}},mounted:function(){this.form.complaint_id=this.$route.params.id},methods:{saveProfile:function(){var t=this;this.isSubmitted=!0,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/change-complaint-status",this.form,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,console.log(e),200==e.status&&e.data?(t.$notifications.notify({message:"<span>Compaint updated successfully.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"adminComplaints"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},Ko=Jo,Vo=Object(c["a"])(Ko,Mo,Ho,!1,null,null,null),Yo=Vo.exports,Go=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"}),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"d-flex justify-content-end",attrs:{to:"/admin/add-conplaint"}},[t._v("Add New")])],1)]),!t.loading&&t.currentuser?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[t._t("columns",(function(){return[e("tr",[e("th",[t._v("S.No")]),e("th",[t._v("Prority")]),e("th",[t._v("Property")]),e("th",[t._v("Description")]),e("th",[t._v("Remarks")]),e("th",[t._v("Status")]),e("th",[t._v("Action")])])]}))],2),e("tbody",t._l(t.tableData,(function(a,i){return e("tr",{key:i},[t._t("default",(function(){return[e("td",[t._v(t._s(i+1))]),e("td",[1==a.prority?e("span",[t._v("High")]):t._e(),2==a.prority?e("span",[t._v("Medium")]):t._e(),3==a.prority?e("span",[t._v("Low")]):t._e()]),e("td",[t._v(t._s(a.property.name)+" - "+t._s(a.room.name))]),e("td",[t._v(t._s(a.description))]),e("td",[t._v(t._s(a.remarks))]),e("td",[1==a.status?e("span",[t._v("Open")]):t._e(),2==a.status?e("span",[t._v("Closed")]):t._e()]),e("td",[e("button",{staticClass:"btn btn-danger p-1 ml-2",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.deleteProfile(a.id,i)}}},[t._v("\n                        Delete\n                      ")])])]}),{row:a})],2)})),0)]),t.loading?e("ajax-loader"):t._e()],1):t._e()])],1)])])])},Wo=[],Qo={components:{LTable:aa,Card:ot,AjaxLoader:Pe},data:function(){return{currentuser:"",loading:!1,tableData:""}},mounted:function(){this._getUser(),this.currentuser=JSON.parse(localStorage.getItem("user"))},methods:{_getUser:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/complaints",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.complaints&&(t.tableData=e.data.complaints),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},deleteProfile:function(t,e){var a=this;confirm("Do you really want to delete?")&&zt["a"].delete("http://property-apis.jpcdevelopment.co.uk/api/delete-complaint/"+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){a.$notifications.notify({message:"<span>"+t.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),a.tableData.splice(e,1)})).catch((function(t){a.$notifications.notify({message:"<span>"+t+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})}))}}},Xo=Qo,Zo=(a("1759"),Object(c["a"])(Xo,Go,Wo,!1,null,null,null)),tr=Zo.exports,er=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Add New Complaints")]),e("form",[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Complaint Proritie")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.prority,expression:"user.prority"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"prority",e.target.multiple?a:a[0])}}},t._l(t.prorities,(function(a,i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.prority.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.prority.required?t._e():e("span",[t._v("prority field is required.")])]):t._e()]),e("div",{staticClass:"col-md-12"},[e("label",[t._v("Enter description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.description,expression:"user.description"}],staticClass:"form-control",domProps:{value:t.user.description},on:{input:function(e){e.target.composing||t.$set(t.user,"description",e.target.value)}}}),t.isSubmitted&&t.$v.user.description.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.description.required?t._e():e("span",[t._v("description field is required.")])]):t._e()]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right mt-3",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Save\n                ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},ar=[],ir={components:{Card:ot,AjaxLoader:Pe},data:function(){return{prorities:"",permissions:"",currentUser:"",user:{prority:"",description:""},isSubmitted:!1,loading:!1}},validations:{user:{prority:{required:ze["required"]},description:{required:ze["required"]}}},mounted:function(){this._getProrities()},methods:{_getProrities:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/complaint-prorities",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.prorities&&(t.prorities=e.data.prorities),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.adminerror=!1,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/raise-complaint",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,200==e.status&&e.data?(t.$notifications.notify({message:"<span>complaint raised successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"TenantComplaints"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},nr=ir,sr=Object(c["a"])(nr,er,ar,!1,null,null,null),or=sr.exports,rr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",[e("h4",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[t._v("Edit Complaints")]),e("form",[e("div",{staticClass:"col-md-4"},[e("label",[t._v("Select Complaint Proritie")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.prority,expression:"user.prority"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"prority",e.target.multiple?a:a[0])}}},t._l(t.prorities,(function(a,i){return e("option",{key:i,domProps:{value:i}},[t._v(t._s(a))])})),0),t.isSubmitted&&t.$v.user.prority.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.prority.required?t._e():e("span",[t._v("prority field is required.")])]):t._e()]),e("div",{staticClass:"col-md-12"},[e("label",[t._v("Enter description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.description,expression:"user.description"}],staticClass:"form-control",domProps:{value:t.user.description},on:{input:function(e){e.target.composing||t.$set(t.user,"description",e.target.value)}}}),t.isSubmitted&&t.$v.user.description.$error?e("div",{staticClass:"invalid-feedback"},[t.$v.user.description.required?t._e():e("span",[t._v("description field is required.")])]):t._e()]),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-info btn-fill float-right mt-3",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveProfile.apply(null,arguments)}}},[t._v("\n                  Save\n                ")]),t.loading?e("ajax-loader"):t._e()],1),e("div",{staticClass:"clearfix"})])])],1)])])])},lr=[],cr={components:{Card:ot,AjaxLoader:Pe},data:function(){return{prorities:"",permissions:"",currentUser:"",user:{prority:"",description:""},isSubmitted:!1,loading:!1}},validations:{user:{prority:{required:ze["required"]},description:{required:ze["required"]}}},mounted:function(){this._getProrities(),this._getComplaint(this.$route.params.id)},methods:{_getProrities:function(){var t=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/complaint-prorities",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){200==e.status&&e.data.prorities&&(t.prorities=e.data.prorities),t.loading=!1})).catch((function(e){t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.loading=!1})).finally((function(){t.loading=!1}))},_getComplaint:function(t){var e=this;this.loading=!0,zt["a"].get("http://property-apis.jpcdevelopment.co.uk/api/complaint-prorities",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){200==t.status&&t.data.prorities&&(e.prorities=t.data.prorities),e.loading=!1})).catch((function(t){e.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),e.loading=!1})).finally((function(){e.loading=!1}))},saveProfile:function(){var t=this;this.isSubmitted=!0,this.adminerror=!1,this.$v.$touch(),this.$v.$invalid||(this.loading=!0,zt["a"].post("http://property-apis.jpcdevelopment.co.uk/api/raise-complaint",this.user,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.loading=!1,t.isSubmitted=!1,200==e.status&&e.data?(t.$notifications.notify({message:"<span>complaint raised successfully</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"success"}),t.$router.push({name:"TenantComplaints"})):t.$notifications.notify({message:"<span>"+e.data.error_message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"})})).catch((function(e){422==e.response.status?t.$notifications.notify({message:"<span>"+e.response.data.message+"</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}):t.$notifications.notify({message:"<span>Something went wrong.</span>",icon:"nc-icon nc-bell-55",horizontalAlign:"right",verticalAlign:"top",type:"danger"}),t.isSubmitted=!1,t.loading=!1})).finally((function(){t.isSubmitted=!1,t.loading=!1})))}}},dr=cr,ur=Object(c["a"])(dr,rr,lr,!1,null,null,null),pr=ur.exports,mr=[{path:"/login",component:Te,name:"Login",meta:{requiresAuth:!0}},{path:"/",component:de,redirect:"/admin/overview",name:"dashboard",meta:{requiresAuth:!0}},{path:"/admin",component:de,redirect:"/admin/overview",meta:{requiresAuth:!0},children:[{path:"overview",name:"Overview",component:pa},{path:"add-cash/:id/:type",name:"AddCash",component:Oo},{path:"owner-list",name:"OwnerList",component:Ai},{path:"new-owner",name:"Add New Owner",component:Ni},{path:"edit-owner/:id",name:"Edit Owner",component:Ui},{path:"tenants-list",name:"TenantsList",component:Fn},{path:"new-tenant",name:"Add New Tenant",component:Vn},{path:"edit-tenant/:id",name:"Edit Tenant",component:Zn},{path:"trades-list",name:"TradesList",component:ss},{path:"new-trade",name:"Add New Trade",component:us},{path:"edit-trade/:id",name:"Edit Trade",component:gs},{path:"property-list",name:"PropertyList",component:Ki},{path:"property-image/:id",name:"PropertyImages",component:Xi},{path:"new-property",name:"Add New Property",component:un},{path:"edit-property/:id",name:"Edit Property",component:gn},{path:"add-amenities/:id",name:"AddNewRoom",component:$n},{path:"edit-amenities/:id",name:"EditNewRoom",component:jn},{path:"add-more-room/:id",name:"AddMoreRoom",component:Tn},{path:"doc-list/:id",name:"ListDoc",component:so},{path:"add-doc/:id",name:"AddNewDoc",component:po},{path:"edit-doc/:id",name:"EditDoc",component:ho},{path:"property-expense/:id",name:"PropertyExpense",component:$s},{path:"new-property-expense/:id?",name:"AddExpense",component:js},{path:"edit-property-expense/:id",name:"EditExpense",component:Ts},{path:"user-list",name:"User",component:Fs},{path:"add-user",name:"addUser",component:Vs},{path:"edit-user/:id",name:"editUser",component:Zs},{path:"user",name:"user",component:Ba},{path:"admin-complaints",name:"adminComplaints",component:Eo},{path:"view-complaint/:id",name:"viewComplaints",component:Yo},{path:"tenant-complaints",name:"TenantComplaints",component:tr},{path:"add-conplaint",name:"addComplaints",component:or},{path:"edit-conplaint/:id",name:"editComplaints",component:pr},{path:"finance",name:"addComplaints",component:tr},{path:"property-doc",name:"addComplaints",component:tr}]},{path:"*",component:_e}],vr=mr,fr=a("1dce"),_r=a.n(fr),gr=a("9483");function hr(){return!!localStorage.getItem("token")}Object(gr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),i["a"].use(n["a"]),i["a"].use(qt),i["a"].use(_r.a),i["a"].use(Nt.a),i["a"].filter("formatDate",(function(t){if(t)return jt()(String(t)).format("MM/DD/YYYY")}));var br=new n["a"]({mode:"history",routes:vr,linkActiveClass:"nav-item active",scrollBehavior:function(t){return t.hash?{selector:t.hash}:{x:0,y:0}}});br.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.requiresAuth}));"/login"==t.path||hr()?"/login"==t.path&&hr()?a({name:"Admin"}):a():a({name:"Login"})})),new i["a"]({store:Dt,el:"#app",render:function(t){return t(u)},router:br})},5811:function(t,e,a){},"5d32":function(t,e,a){},7461:function(t,e,a){"use strict";a("222f")},"75d6":function(t,e,a){"use strict";a("84ab")},"774d":function(t,e,a){},"7d5e":function(t,e,a){},"816e":function(t,e,a){"use strict";a("998c")},"84a2":function(t,e,a){"use strict";a("54b2")},"84ab":function(t,e,a){},"88dd":function(t,e,a){},9339:function(t,e,a){"use strict";a("0d52")},"93ac":function(t,e,a){"use strict";a("5d32")},"97f3":function(t,e,a){"use strict";a("c43a")},"998c":function(t,e,a){},"9d5c":function(t,e,a){},a1a7:function(t,e,a){"use strict";a("9d5c")},a38c:function(t,e,a){"use strict";a("24c4")},a63c:function(t,e,a){"use strict";a("ac1b")},ac1b:function(t,e,a){},b463:function(t,e,a){"use strict";a("e7e5")},b4b4:function(t,e,a){"use strict";a("fb5e")},b54f:function(t,e,a){"use strict";a("0746")},ba27:function(t,e,a){"use strict";a("c9b5")},bb26:function(t,e,a){},c291:function(t,e,a){},c43a:function(t,e,a){},c676:function(t,e,a){"use strict";a("5811")},c6e3:function(t,e,a){},c9b5:function(t,e,a){},cb48:function(t,e,a){"use strict";a("215b")},d4da:function(t,e,a){},d885:function(t,e,a){"use strict";a("dfeb")},dfeb:function(t,e,a){},e077:function(t,e,a){},e1b9:function(t,e,a){},e7e5:function(t,e,a){},ea13:function(t,e,a){"use strict";a("d4da")},f38c:function(t,e,a){"use strict";a("fd37")},f6c0:function(t,e,a){"use strict";a("5419")},fb5e:function(t,e,a){},fd37:function(t,e,a){}});
//# sourceMappingURL=app.8464b81f.js.map